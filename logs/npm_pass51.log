
> pretest
> pnpm run build


> directus-monorepo@ build /workspace/directus
> pnpm --recursive --filter '!docs' run build

Scope: 40 of 42 workspace projects
packages/components build$ vite build
packages/format-title build$ pnpm run '/^bundle|typecheck$/'
packages/random build$ tsup src/index.ts --format=esm --dts
packages/constants build$ tsup src/index.ts --format=esm --dts
packages/random build: CLI Building entry: src/index.ts
packages/random build: CLI Using tsconfig: tsconfig.json
packages/random build: CLI tsup v8.4.0
packages/random build: CLI Target: es2022
packages/random build: ESM Build start
packages/format-title build: . bundle$ tsup src/index.ts --format=esm --dts
packages/format-title build: . typecheck$ tsc --noEmit
packages/random build: ESM dist/index.js 915.00 B
packages/random build: ESM ⚡️ Build success in 45ms
packages/constants build: CLI Building entry: src/index.ts
packages/constants build: CLI Using tsconfig: tsconfig.json
packages/constants build: CLI tsup v8.4.0
packages/constants build: CLI Target: es2022
packages/constants build: ESM Build start
packages/constants build: ESM dist/index.js 2.48 KB
packages/constants build: ESM ⚡️ Build success in 33ms
packages/random build: DTS Build start
packages/format-title build: . bundle: CLI Building entry: src/index.ts
packages/format-title build: . bundle: CLI Using tsconfig: tsconfig.json
packages/constants build: DTS Build start
packages/format-title build: . bundle: CLI tsup v8.4.0
packages/format-title build: . bundle: CLI Target: es2022
packages/format-title build: . bundle: ESM Build start
packages/format-title build: . bundle: ESM dist/index.js 3.78 KB
packages/format-title build: . bundle: ESM ⚡️ Build success in 67ms
packages/format-title build: . bundle: DTS Build start
packages/constants build: DTS ⚡️ Build success in 793ms
packages/constants build: DTS dist/index.d.ts 2.44 KB
packages/constants build: Done
packages/release-notes-generator build$ tsc --project tsconfig.prod.json
packages/random build: DTS ⚡️ Build success in 1607ms
packages/random build: DTS dist/index.d.ts 1.13 KB
packages/format-title build: . typecheck: Done
packages/format-title build: . bundle: DTS ⚡️ Build success in 785ms
packages/format-title build: . bundle: DTS dist/index.d.ts 122.00 B
packages/random build: Done
packages/schema build$ tsup src/index.ts --format=esm --dts
packages/format-title build: . bundle: Done
packages/format-title build: Done
packages/specs build$ swagger-cli bundle src/openapi.yaml -o dist/openapi.json
packages/components build: vite v5.4.19 building for production...
packages/specs build: Created dist/openapi.json from src/openapi.yaml
packages/specs build: Done
packages/storage build$ tsup src/index.ts --format=esm --dts
packages/schema build: CLI Building entry: src/index.ts
packages/schema build: CLI Using tsconfig: tsconfig.json
packages/schema build: CLI tsup v8.4.0
packages/schema build: CLI Target: es2022
packages/schema build: ESM Build start
packages/schema build: ESM dist/index.js 74.29 KB
packages/schema build: ESM ⚡️ Build success in 70ms
packages/schema build: DTS Build start
packages/storage build: CLI Building entry: src/index.ts
packages/storage build: CLI Using tsconfig: tsconfig.json
packages/storage build: CLI tsup v8.4.0
packages/storage build: CLI Target: es2022
packages/storage build: ESM Build start
packages/storage build: ESM dist/index.js 762.00 B
packages/storage build: ESM ⚡️ Build success in 30ms
packages/storage build: DTS Build start
packages/release-notes-generator build: Done
packages/stores build$ tsup src/index.ts --format=esm --dts
packages/stores build: CLI Building entry: src/index.ts
packages/stores build: CLI Using tsconfig: tsconfig.json
packages/stores build: CLI tsup v8.4.0
packages/stores build: CLI Target: es2022
packages/stores build: ESM Build start
packages/stores build: ESM dist/index.js 857.00 B
packages/stores build: ESM ⚡️ Build success in 68ms
packages/components build: transforming...
packages/components build: ✓ 1 modules transformed.
packages/components build: Generated an empty chunk: "index".
packages/components build: rendering chunks...
packages/components build: [vite:dts] Start generate declaration files...
packages/components build: computing gzip size...
packages/components build: dist/index.js  0.00 kB │ gzip: 0.02 kB
packages/components build: [vite:dts] Declaration files built in 2646ms.
packages/components build: ✓ built in 2.77s
packages/stores build: DTS Build start
packages/components build: Done
packages/system-data build$ NODE_ENV=production tsup
packages/storage build: DTS ⚡️ Build success in 1451ms
packages/storage build: DTS dist/index.d.ts 1.87 KB
packages/storage build: Done
packages/update-check build$ pnpm run '/^bundle|typecheck$/'
packages/system-data build: CLI Building entry: src/index.ts
packages/system-data build: CLI Using tsconfig: tsconfig.json
packages/system-data build: CLI tsup v8.4.0
packages/system-data build: CLI Using tsup config: /workspace/directus/packages/system-data/tsup.config.js
packages/system-data build: CLI Target: es2020
packages/system-data build: CLI Cleaning output folder
packages/system-data build: CJS Build start
packages/system-data build: ESM Build start
packages/schema build: DTS ⚡️ Build success in 2561ms
packages/schema build: DTS dist/index.d.ts 2.68 KB
packages/schema build: Done
packages/update-check build: . bundle$ tsup src/index.ts --format=esm --dts
packages/update-check build: . typecheck$ tsc --noEmit
packages/system-data build: ESM dist/index.js 50.02 KB
packages/system-data build: ESM ⚡️ Build success in 391ms
packages/system-data build: CJS dist/index.cjs 50.64 KB
packages/system-data build: CJS ⚡️ Build success in 400ms
packages/system-data build: DTS Build start
packages/update-check build: . bundle: CLI Building entry: src/index.ts
packages/update-check build: . bundle: CLI Using tsconfig: tsconfig.json
packages/update-check build: . bundle: CLI tsup v8.4.0
packages/update-check build: . bundle: CLI Target: es2022
packages/update-check build: . bundle: ESM Build start
packages/update-check build: . bundle: ESM dist/index.js 3.13 KB
packages/update-check build: . bundle: ESM ⚡️ Build success in 45ms
packages/stores build: DTS ⚡️ Build success in 1838ms
packages/stores build: DTS dist/index.d.ts 1.75 KB
packages/stores build: Done
packages/system-data build: DTS ⚡️ Build success in 809ms
packages/system-data build: DTS dist/index.d.cts 4.92 KB
packages/system-data build: DTS dist/index.d.ts  4.92 KB
packages/system-data build: Done
packages/update-check build: . bundle: DTS Build start
packages/update-check build: . typecheck: Done
packages/update-check build: . bundle: DTS ⚡️ Build success in 969ms
packages/update-check build: . bundle: DTS dist/index.d.ts 94.00 B
packages/update-check build: . bundle: Done
packages/update-check build: Done
packages/errors build$ tsup src/index.ts --format=esm --dts
packages/storage-driver-local build$ tsup src/index.ts --format=esm --dts
packages/types build$ tsc
sdk build$ NODE_ENV=production tsup
packages/errors build: CLI Building entry: src/index.ts
packages/errors build: CLI Using tsconfig: tsconfig.json
packages/errors build: CLI tsup v8.4.0
packages/errors build: CLI Target: es2022
packages/errors build: ESM Build start
packages/storage-driver-local build: CLI Building entry: src/index.ts
packages/storage-driver-local build: CLI Using tsconfig: tsconfig.json
packages/storage-driver-local build: CLI tsup v8.4.0
packages/storage-driver-local build: CLI Target: es2022
packages/storage-driver-local build: ESM Build start
packages/storage-driver-local build: ESM dist/index.js 3.92 KB
packages/storage-driver-local build: ESM ⚡️ Build success in 47ms
packages/errors build: ESM dist/index.js 10.73 KB
packages/errors build: ESM ⚡️ Build success in 209ms
sdk build: CLI Building entry: src/index.ts
sdk build: CLI Using tsconfig: tsconfig.json
sdk build: CLI tsup v8.4.0
sdk build: CLI Using tsup config: /workspace/directus/sdk/tsup.config.js
sdk build: CLI Target: es2022
sdk build: CLI Cleaning output folder
sdk build: CJS Build start
sdk build: ESM Build start
packages/errors build: DTS Build start
packages/storage-driver-local build: DTS Build start
sdk build: ESM dist/index.js     41.57 KB
sdk build: ESM dist/index.js.map 59.53 KB
sdk build: ESM ⚡️ Build success in 342ms
sdk build: CJS dist/index.cjs     45.88 KB
sdk build: CJS dist/index.cjs.map 66.66 KB
sdk build: CJS ⚡️ Build success in 343ms
sdk build: DTS Build start
packages/types build: Done
packages/errors build: DTS ⚡️ Build success in 1098ms
packages/errors build: DTS dist/index.d.ts 8.40 KB
packages/errors build: Done
packages/storage-driver-local build: DTS ⚡️ Build success in 1380ms
packages/storage-driver-local build: DTS dist/index.d.ts 1.44 KB
packages/storage-driver-local build: Done
sdk build: DTS ⚡️ Build success in 3896ms
sdk build: DTS dist/index.d.cts 159.14 KB
sdk build: DTS dist/index.d.ts  159.14 KB
sdk build: Done
packages/schema-builder build$ tsup src/index.ts --format=esm --dts
packages/schema-builder build: CLI Building entry: src/index.ts
packages/schema-builder build: CLI Using tsconfig: tsconfig.json
packages/schema-builder build: CLI tsup v8.4.0
packages/schema-builder build: CLI Target: es2022
packages/schema-builder build: ESM Build start
packages/schema-builder build: ESM dist/index.js 20.93 KB
packages/schema-builder build: ESM ⚡️ Build success in 22ms
packages/schema-builder build: DTS Build start
packages/schema-builder build: DTS ⚡️ Build success in 1481ms
packages/schema-builder build: DTS dist/index.d.ts 4.24 KB
packages/schema-builder build: Done
packages/utils build$ pnpm run '/^build:.*/'
packages/utils build: . build:browser$ tsup browser/index.ts --tsconfig browser/tsconfig.json --out-dir dist/browser --format=esm --dts
packages/utils build: . build:node$ tsup node/index.ts --tsconfig node/tsconfig.json --out-dir dist/node --format=esm --dts
packages/utils build: . build:shared$ tsup shared/index.ts --tsconfig shared/tsconfig.json --out-dir dist/shared --format=esm --dts
packages/utils build: . build:node: CLI Building entry: node/index.ts
packages/utils build: . build:node: CLI Using tsconfig: node/tsconfig.json
packages/utils build: . build:node: CLI tsup v8.4.0
packages/utils build: . build:node: CLI Target: es2022
packages/utils build: . build:node: ESM Build start
packages/utils build: . build:browser: CLI Building entry: browser/index.ts
packages/utils build: . build:browser: CLI Using tsconfig: browser/tsconfig.json
packages/utils build: . build:browser: CLI tsup v8.4.0
packages/utils build: . build:shared: CLI Building entry: shared/index.ts
packages/utils build: . build:shared: CLI Using tsconfig: shared/tsconfig.json
packages/utils build: . build:shared: CLI tsup v8.4.0
packages/utils build: . build:browser: CLI Target: es2022
packages/utils build: . build:browser: ESM Build start
packages/utils build: . build:shared: CLI Target: es2022
packages/utils build: . build:shared: ESM Build start
packages/utils build: . build:node: ESM dist/node/index.js 3.56 KB
packages/utils build: . build:node: ESM ⚡️ Build success in 43ms
packages/utils build: . build:browser: ESM dist/browser/index.js 177.00 B
packages/utils build: . build:browser: ESM ⚡️ Build success in 35ms
packages/utils build: . build:shared: ESM dist/shared/index.js 40.89 KB
packages/utils build: . build:shared: ESM ⚡️ Build success in 75ms
packages/utils build: . build:node: DTS Build start
packages/utils build: . build:shared: DTS Build start
packages/utils build: . build:browser: DTS Build start
packages/utils build: . build:browser: DTS ⚡️ Build success in 887ms
packages/utils build: . build:browser: DTS dist/browser/index.d.ts 149.00 B
packages/utils build: . build:browser: Done
packages/utils build: . build:node: DTS ⚡️ Build success in 1629ms
packages/utils build: . build:node: DTS dist/node/index.d.ts 1.66 KB
packages/utils build: . build:node: Done
packages/utils build: . build:shared: DTS ⚡️ Build success in 2165ms
packages/utils build: . build:shared: DTS dist/shared/index.d.ts 8.67 KB
packages/utils build: . build:shared: Done
packages/utils build: Done
packages/env build$ tsup src/index.ts --format=esm --dts
packages/memory build$ tsup src/index.ts --format=esm --dts
packages/storage-driver-azure build$ tsup src/index.ts --format=esm --dts
packages/pressure build$ tsup src/index.ts --format=esm --dts
packages/env build: CLI Building entry: src/index.ts
packages/storage-driver-azure build: CLI Building entry: src/index.ts
packages/storage-driver-azure build: CLI Using tsconfig: tsconfig.json
packages/storage-driver-azure build: CLI tsup v8.4.0
packages/env build: CLI Using tsconfig: tsconfig.json
packages/env build: CLI tsup v8.4.0
packages/storage-driver-azure build: CLI Target: es2022
packages/storage-driver-azure build: ESM Build start
packages/memory build: CLI Building entry: src/index.ts
packages/memory build: CLI Using tsconfig: tsconfig.json
packages/memory build: CLI tsup v8.4.0
packages/env build: CLI Target: es2022
packages/env build: ESM Build start
packages/memory build: CLI Target: es2022
packages/memory build: ESM Build start
packages/storage-driver-azure build: ESM dist/index.js 3.74 KB
packages/storage-driver-azure build: ESM ⚡️ Build success in 69ms
packages/pressure build: CLI Building entry: src/index.ts
packages/pressure build: CLI Using tsconfig: tsconfig.json
packages/pressure build: CLI tsup v8.4.0
packages/pressure build: CLI Target: es2022
packages/pressure build: ESM Build start
packages/env build: ESM dist/index.js 17.72 KB
packages/env build: ESM ⚡️ Build success in 97ms
packages/memory build: ESM dist/index.js 13.57 KB
packages/memory build: ESM ⚡️ Build success in 86ms
packages/pressure build: ESM dist/index.js 2.25 KB
packages/pressure build: ESM ⚡️ Build success in 95ms
packages/env build: DTS Build start
packages/storage-driver-azure build: DTS Build start
packages/pressure build: DTS Build start
packages/memory build: DTS Build start
packages/pressure build: DTS ⚡️ Build success in 2196ms
packages/pressure build: DTS dist/index.d.ts 885.00 B
packages/pressure build: Done
packages/storage-driver-cloudinary build$ tsup src/index.ts --format=esm --dts
packages/env build: DTS ⚡️ Build success in 2554ms
packages/env build: DTS dist/index.d.ts 90.00 B
packages/env build: Done
packages/storage-driver-gcs build$ tsup src/index.ts --format=esm --dts
packages/storage-driver-azure build: DTS ⚡️ Build success in 2603ms
packages/storage-driver-azure build: DTS dist/index.d.ts 1.52 KB
packages/storage-driver-azure build: Done
packages/storage-driver-s3 build$ tsup src/index.ts --format=esm --dts
packages/storage-driver-cloudinary build: CLI Building entry: src/index.ts
packages/storage-driver-cloudinary build: CLI Using tsconfig: tsconfig.json
packages/storage-driver-cloudinary build: CLI tsup v8.4.0
packages/storage-driver-cloudinary build: CLI Target: es2022
packages/storage-driver-cloudinary build: ESM Build start
packages/storage-driver-cloudinary build: ESM dist/index.js 13.81 KB
packages/storage-driver-cloudinary build: ESM ⚡️ Build success in 47ms
packages/memory build: DTS ⚡️ Build success in 2838ms
packages/memory build: DTS dist/index.d.ts 13.45 KB
packages/memory build: Done
packages/storage-driver-supabase build$ tsup src/index.ts --format=esm --dts
packages/storage-driver-gcs build: CLI Building entry: src/index.ts
packages/storage-driver-gcs build: CLI Using tsconfig: tsconfig.json
packages/storage-driver-gcs build: CLI tsup v8.4.0
packages/storage-driver-gcs build: CLI Target: es2022
packages/storage-driver-gcs build: ESM Build start
packages/storage-driver-s3 build: CLI Building entry: src/index.ts
packages/storage-driver-s3 build: CLI Using tsconfig: tsconfig.json
packages/storage-driver-s3 build: CLI tsup v8.4.0
packages/storage-driver-gcs build: ESM dist/index.js 3.54 KB
packages/storage-driver-gcs build: ESM ⚡️ Build success in 24ms
packages/storage-driver-s3 build: CLI Target: es2022
packages/storage-driver-s3 build: ESM Build start
packages/storage-driver-s3 build: ESM dist/index.js 12.19 KB
packages/storage-driver-s3 build: ESM ⚡️ Build success in 49ms
packages/storage-driver-cloudinary build: DTS Build start
packages/storage-driver-supabase build: CLI Building entry: src/index.ts
packages/storage-driver-supabase build: CLI Using tsconfig: tsconfig.json
packages/storage-driver-supabase build: CLI tsup v8.4.0
packages/storage-driver-supabase build: CLI Target: es2022
packages/storage-driver-supabase build: ESM Build start
packages/storage-driver-gcs build: DTS Build start
packages/storage-driver-supabase build: ESM dist/index.js 6.46 KB
packages/storage-driver-supabase build: ESM ⚡️ Build success in 21ms
packages/storage-driver-s3 build: DTS Build start
packages/storage-driver-supabase build: DTS Build start
packages/storage-driver-gcs build: DTS ⚡️ Build success in 2368ms
packages/storage-driver-gcs build: DTS dist/index.d.ts 1.46 KB
packages/storage-driver-gcs build: Done
packages/themes build$ vite build
packages/storage-driver-cloudinary build: DTS ⚡️ Build success in 2707ms
packages/storage-driver-cloudinary build: DTS dist/index.d.ts 2.85 KB
packages/storage-driver-cloudinary build: Done
packages/validation build$ tsup src/index.ts --format=esm --dts
packages/validation build: CLI Building entry: src/index.ts
packages/validation build: CLI Using tsconfig: tsconfig.json
packages/validation build: CLI tsup v8.4.0
packages/validation build: CLI Target: es2022
packages/validation build: ESM Build start
packages/validation build: ESM dist/index.js 5.55 KB
packages/validation build: ESM ⚡️ Build success in 30ms
packages/storage-driver-supabase build: DTS ⚡️ Build success in 2588ms
packages/storage-driver-supabase build: DTS dist/index.d.ts 1.76 KB
packages/storage-driver-supabase build: Done
packages/validation build: DTS Build start
packages/storage-driver-s3 build: DTS ⚡️ Build success in 3587ms
packages/storage-driver-s3 build: DTS dist/index.d.ts 2.08 KB
packages/storage-driver-s3 build: Done
packages/themes build: vite v5.4.19 building for production...
packages/validation build: DTS ⚡️ Build success in 1193ms
packages/validation build: DTS dist/index.d.ts 774.00 B
packages/validation build: Done
packages/themes build: transforming...
packages/themes build: ✓ 21 modules transformed.
packages/themes build: rendering chunks...
packages/themes build: [vite:dts] Start generate declaration files...
packages/themes build: computing gzip size...
packages/themes build: dist/index.js  40.85 kB │ gzip: 5.42 kB
packages/themes build: [vite:dts] Declaration files built in 3178ms.
packages/themes build: ✓ built in 3.71s
packages/themes build: Done
packages/extensions build$ pnpm run '/^build:.*/'
packages/extensions build: . build:node$ tsup src/node.ts --tsconfig src/node/tsconfig.json --out-dir dist --format=esm --dts
packages/extensions build: . build:shared$ tsup src/index.ts --tsconfig src/tsconfig.json --out-dir dist --format=esm --dts
packages/extensions build: . build:shared: CLI Building entry: src/index.ts
packages/extensions build: . build:shared: CLI Using tsconfig: src/tsconfig.json
packages/extensions build: . build:shared: CLI tsup v8.4.0
packages/extensions build: . build:node: CLI Building entry: src/node.ts
packages/extensions build: . build:shared: CLI Target: es2022
packages/extensions build: . build:node: CLI Using tsconfig: src/node/tsconfig.json
packages/extensions build: . build:node: CLI tsup v8.4.0
packages/extensions build: . build:shared: ESM Build start
packages/extensions build: . build:node: CLI Target: es2022
packages/extensions build: . build:node: ESM Build start
packages/extensions build: . build:shared: ESM dist/index.js 4.68 KB
packages/extensions build: . build:shared: ESM ⚡️ Build success in 33ms
packages/extensions build: . build:node: ESM dist/node.js 11.64 KB
packages/extensions build: . build:node: ESM ⚡️ Build success in 28ms
packages/extensions build: . build:shared: DTS Build start
packages/extensions build: . build:node: DTS Build start
packages/extensions build: . build:shared: DTS ⚡️ Build success in 2375ms
packages/extensions build: . build:shared: DTS dist/index.d.ts 54.73 KB
packages/extensions build: . build:shared: Done
packages/extensions build: . build:node: DTS ⚡️ Build success in 2545ms
packages/extensions build: . build:node: DTS dist/node.d.ts 55.33 KB
packages/extensions build: . build:node: Done
packages/extensions build: Done
packages/composables build$ tsup src/index.ts --format=esm --dts
packages/extensions-registry build$ tsup src/index.ts --format=esm --dts
packages/extensions-registry build: CLI Building entry: src/index.ts
packages/composables build: CLI Building entry: src/index.ts
packages/extensions-registry build: CLI Using tsconfig: tsconfig.json
packages/composables build: CLI Using tsconfig: tsconfig.json
packages/extensions-registry build: CLI tsup v8.4.0
packages/composables build: CLI tsup v8.4.0
packages/composables build: CLI Target: es2022
packages/composables build: ESM Build start
packages/extensions-registry build: CLI Target: es2022
packages/extensions-registry build: ESM Build start
packages/composables build: ESM dist/index.js 20.61 KB
packages/composables build: ESM ⚡️ Build success in 38ms
packages/extensions-registry build: ESM dist/index.js 7.08 KB
packages/extensions-registry build: ESM ⚡️ Build success in 44ms
packages/composables build: DTS Build start
packages/extensions-registry build: DTS Build start
packages/extensions-registry build: DTS ⚡️ Build success in 2316ms
packages/extensions-registry build: DTS dist/index.d.ts 21.76 KB
packages/extensions-registry build: Done
packages/composables build: DTS ⚡️ Build success in 2633ms
packages/composables build: DTS dist/index.d.ts 6.38 KB
packages/composables build: Done
packages/extensions-sdk build$ tsc --project tsconfig.prod.json
packages/extensions-sdk build: Done
app build$ vite build
app build: vite v5.4.19 building for production...
app build: transforming...
app build: ✓ 4494 modules transformed.
app build: rendering chunks...
app build: [plugin:vite:reporter] [plugin vite:reporter] 
app build: (!) /workspace/directus/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/locale/en-US.js is dynamically imported by /workspace/directus/app/src/utils/get-date-fns-locale.ts but also statically imported by /workspace/directus/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/_lib/defaultLocale.js, dynamic import will not move module into another chunk.
app build: [plugin:vite:reporter] [plugin vite:reporter] 
app build: (!) /workspace/directus/app/src/lang/translations/en-US.yaml is dynamically imported by /workspace/directus/app/src/lang/set-language.ts but also statically imported by /workspace/directus/app/src/lang/index.ts, dynamic import will not move module into another chunk.
app build: [plugin:vite:reporter] [plugin vite:reporter] 
app build: (!) /workspace/directus/node_modules/.pnpm/codemirror@5.65.18/node_modules/codemirror/mode/markdown/markdown.js is dynamically imported by /workspace/directus/app/src/interfaces/input-code/import-codemirror-mode.ts but also statically imported by  /workspace/directus/node_modules/.pnpm/codemirror@5.65.18/node_modules/codemirror/mode/markdown/markdown.js?commonjs-proxy, /workspace/directus/app/src/interfaces/input-rich-text-md/input-rich-text-md.vue?vue&type=script&setup=true&lang.ts, dynamic import will not move module into another chunk.
app build: [plugin:vite:reporter] [plugin vite:reporter] 
app build: (!) /workspace/directus/node_modules/.pnpm/codemirror@5.65.18/node_modules/codemirror/mode/javascript/javascript.js is dynamically imported by /workspace/directus/app/src/interfaces/input-code/import-codemirror-mode.ts, /workspace/directus/app/src/interfaces/input-code/input-code.vue?vue&type=script&setup=true&lang.ts but also statically imported by  /workspace/directus/node_modules/.pnpm/codemirror@5.65.18/node_modules/codemirror/mode/javascript/javascript.js?commonjs-proxy, /workspace/directus/app/src/modules/settings/routes/system-logs/logs.vue?vue&type=script&setup=true&lang.ts, dynamic import will not move module into another chunk.
app build: computing gzip size...
app build: dist/index.html                                             1.81 kB │ gzip:     0.74 kB
app build: dist/assets/FiraMono-Medium-CE-6Frqh.woff2                 16.15 kB
app build: dist/assets/FiraMono-Medium-CjwgnWCQ.woff                  21.28 kB
app build: dist/assets/merriweather-light-MAZijcp-.woff2              23.59 kB
app build: dist/assets/merriweather-regular-D4NWdWaV.woff2            23.86 kB
app build: dist/assets/merriweather-bold-Ehu1LSIs.woff2               24.17 kB
app build: dist/assets/merriweather-italic-DQHU05JA.woff2             27.18 kB
app build: dist/assets/merriweather-light-_dgfXFiJ.woff               30.76 kB
app build: dist/assets/merriweather-regular-B5k5JYwq.woff             31.07 kB
app build: dist/assets/merriweather-bold-CQICjned.woff                31.46 kB
app build: dist/assets/merriweather-italic-DDdpEp2m.woff              35.08 kB
app build: dist/assets/Inter-Black-DQ32R15S.woff2                     93.18 kB
app build: dist/assets/Inter-Bold-d8J9BkrN.woff2                      95.93 kB
app build: dist/assets/Inter-Regular-C2oJmTkV.woff2                  100.12 kB
app build: dist/assets/Inter-Medium-IZr8HYrM.woff2                   106.72 kB
app build: dist/assets/Inter-SemiBold-1vGiIFm-.woff2                 107.23 kB
app build: dist/assets/Inter-MediumItalic-eHnJB7Jg.woff2             112.50 kB
app build: dist/assets/Inter-Black-tY25MZ8m.woff                     124.68 kB
app build: dist/assets/Inter-Bold-DebvEmVN.woff                      128.01 kB
app build: dist/assets/Inter-Regular-C9wQxk6G.woff                   134.65 kB
app build: dist/assets/Inter-Medium-DosJTVus.woff                    142.84 kB
app build: dist/assets/Inter-SemiBold-CUDcKm_l.woff                  143.25 kB
app build: dist/assets/Inter-MediumItalic-C-HF1KIs.woff              149.18 kB
app build: dist/assets/sprite-Cvp8IOkP.svg                           155.48 kB │ gzip:    69.89 kB
app build: dist/assets/material-symbols-BLTCXYgc.woff2               295.10 kB
app build: dist/assets/show-hint-DqpzQ0Fp.css                          0.52 kB │ gzip:     0.31 kB
app build: dist/assets/index-DUWut2ul.css                             17.29 kB │ gzip:     3.14 kB
app build: dist/assets/input-rich-text-html-D0_5luDc.css              88.74 kB │ gzip:    13.63 kB
app build: dist/assets/index-CVJQHrA8.css                            554.08 kB │ gzip:    81.17 kB
app build: dist/assets/sw-KE-CIEyP2s7.js                               0.03 kB │ gzip:     0.05 kB
app build: dist/assets/sw-TZ-CIEyP2s7.js                               0.03 kB │ gzip:     0.05 kB
app build: dist/assets/tg-TJ-CIEyP2s7.js                               0.03 kB │ gzip:     0.05 kB
app build: dist/assets/isSameWeek-DoceWFb5.js                          0.18 kB │ gzip:     0.16 kB
app build: dist/assets/ug-DPjnv-8A.js                                  0.18 kB │ gzip:     0.21 kB
app build: dist/assets/formatRelative-Dv7OIDgt.js                      0.19 kB │ gzip:     0.17 kB
app build: dist/assets/ko-BclfT1S2.js                                  0.21 kB │ gzip:     0.23 kB
app build: dist/assets/zh-tw-CWNUtgPu.js                               0.21 kB │ gzip:     0.24 kB
app build: dist/assets/ja-VO0dQThx.js                                  0.22 kB │ gzip:     0.26 kB
app build: dist/assets/en-au-CElxw9BR.js                               0.23 kB │ gzip:     0.20 kB
app build: dist/assets/en-gb-xoqFlaE3.js                               0.23 kB │ gzip:     0.20 kB
app build: dist/assets/en-nz-DZvNuVZQ.js                               0.23 kB │ gzip:     0.20 kB
app build: dist/assets/zh-cn-BtEXDR8h.js                               0.24 kB │ gzip:     0.26 kB
app build: dist/assets/he-0MgNsFfp.js                                  0.26 kB │ gzip:     0.24 kB
app build: dist/assets/es-us-Bnv27Evl.js                               0.27 kB │ gzip:     0.22 kB
app build: dist/assets/nn-DVG1X-2R.js                                  0.27 kB │ gzip:     0.22 kB
app build: dist/assets/nl-DK4fNwkM.js                                  0.27 kB │ gzip:     0.22 kB
app build: dist/assets/tr-nWAx0x6b.js                                  0.27 kB │ gzip:     0.23 kB
app build: dist/assets/af-_28_aPkP.js                                  0.27 kB │ gzip:     0.22 kB
app build: dist/assets/hu-DGnG1A8G.js                                  0.27 kB │ gzip:     0.24 kB
app build: dist/assets/bg-B1JabSYP.js                                  0.27 kB │ gzip:     0.29 kB
app build: dist/assets/da-1b7t9EQM.js                                  0.28 kB │ gzip:     0.22 kB
app build: dist/assets/bn-C-JXl2PU.js                                  0.28 kB │ gzip:     0.29 kB
app build: dist/assets/ar-JVIsLnCE.js                                  0.28 kB │ gzip:     0.27 kB
app build: dist/assets/eo-C0r_IOYz.js                                  0.28 kB │ gzip:     0.22 kB
app build: dist/assets/mk-Bb69r59O.js                                  0.28 kB │ gzip:     0.29 kB
app build: dist/assets/cy-uIXFMCYY.js                                  0.28 kB │ gzip:     0.22 kB
app build: dist/assets/ne-DE44C4nT.js                                  0.28 kB │ gzip:     0.31 kB
app build: dist/assets/pt-BEOdVjin.js                                  0.28 kB │ gzip:     0.23 kB
app build: dist/assets/ar-dz-BYyoW5bv.js                               0.28 kB │ gzip:     0.27 kB
app build: dist/assets/ar-sa-rZtZT4t8.js                               0.28 kB │ gzip:     0.27 kB
app build: dist/assets/ar-tn-DRliwBAX.js                               0.28 kB │ gzip:     0.27 kB
app build: dist/assets/ar-kw-DkL0acqU.js                               0.28 kB │ gzip:     0.27 kB
app build: dist/assets/ar-ly-DzhaKOfe.js                               0.28 kB │ gzip:     0.27 kB
app build: dist/assets/ar-ma-S3iX-fpR.js                               0.28 kB │ gzip:     0.27 kB
app build: dist/assets/eu-B8WGPnxW.js                                  0.28 kB │ gzip:     0.22 kB
app build: dist/assets/is-DRp0RsYz.js                                  0.28 kB │ gzip:     0.24 kB
app build: dist/assets/sl-OeJpqR8V.js                                  0.28 kB │ gzip:     0.23 kB
app build: dist/assets/uz-DjJNMNnn.js                                  0.28 kB │ gzip:     0.23 kB
app build: dist/assets/lt-gsORpIwD.js                                  0.29 kB │ gzip:     0.24 kB
app build: dist/assets/ca-DPJaEvO_.js                                  0.29 kB │ gzip:     0.23 kB
app build: dist/assets/cs-D_eu4svW.js                                  0.29 kB │ gzip:     0.26 kB
app build: dist/assets/fr-ca-DvKGJDEU.js                               0.29 kB │ gzip:     0.24 kB
app build: dist/assets/lb-rjeOtTUB.js                                  0.29 kB │ gzip:     0.23 kB
app build: dist/assets/lv-0469Mz6N.js                                  0.29 kB │ gzip:     0.25 kB
app build: dist/assets/id-Bn7suh2i.js                                  0.29 kB │ gzip:     0.23 kB
app build: dist/assets/kk-DtOooNsd.js                                  0.29 kB │ gzip:     0.31 kB
app build: dist/assets/ka-BSX3F3cs.js                                  0.29 kB │ gzip:     0.30 kB
app build: dist/assets/fa-DMcZc0Uj.js                                  0.29 kB │ gzip:     0.28 kB
app build: dist/assets/vi-DyHn0SRo.js                                  0.29 kB │ gzip:     0.29 kB
app build: dist/assets/az-BArG7S63.js                                  0.29 kB │ gzip:     0.26 kB
app build: dist/assets/fi-CXM2A7Fy.js                                  0.29 kB │ gzip:     0.24 kB
app build: dist/assets/sr-CCKYIdNG.js                                  0.30 kB │ gzip:     0.25 kB
app build: dist/assets/pl-8FWohiNn.js                                  0.30 kB │ gzip:     0.24 kB
app build: dist/assets/sq-BXlRdXas.js                                  0.30 kB │ gzip:     0.25 kB
app build: dist/assets/ru-DoXl6lJb.js                                  0.30 kB │ gzip:     0.30 kB
app build: dist/assets/et-BEltiP6o.js                                  0.30 kB │ gzip:     0.24 kB
app build: dist/assets/hi-N-_mnroV.js                                  0.30 kB │ gzip:     0.33 kB
app build: dist/assets/sr-cyrl-BJ1Exp4k.js                             0.30 kB │ gzip:     0.30 kB
app build: dist/assets/hr-BtwKIOlQ.js                                  0.30 kB │ gzip:     0.25 kB
app build: dist/assets/ro-Cl8ZRrT5.js                                  0.30 kB │ gzip:     0.25 kB
app build: dist/assets/bs-W2ypyBhS.js                                  0.30 kB │ gzip:     0.25 kB
app build: dist/assets/fr-ch-CoIYQTTX.js                               0.30 kB │ gzip:     0.25 kB
app build: dist/assets/sk-XMk1AXgk.js                                  0.31 kB │ gzip:     0.26 kB
app build: dist/assets/it-g_qmz2aL.js                                  0.31 kB │ gzip:     0.24 kB
app build: dist/assets/el-Crmizxop.js                                  0.31 kB │ gzip:     0.31 kB
app build: dist/assets/hy-am-D2damuje.js                               0.31 kB │ gzip:     0.31 kB
app build: dist/assets/uk-DS-g277L.js                                  0.31 kB │ gzip:     0.32 kB
app build: dist/assets/ta-in-RVxb_NFL.js                               0.32 kB │ gzip:     0.32 kB
app build: dist/assets/ms-ghG5JKnb.js                                  0.32 kB │ gzip:     0.25 kB
app build: dist/assets/th-CkqJY8LF.js                                  0.32 kB │ gzip:     0.32 kB
app build: dist/assets/fr-CQ7PX3zI.js                                  0.33 kB │ gzip:     0.26 kB
app build: dist/assets/nb-Dad7pRLV.js                                  0.47 kB │ gzip:     0.32 kB
app build: dist/assets/ruby-wDUhdqWX.js                                0.50 kB │ gzip:     0.36 kB
app build: dist/assets/stex-CKxrV9GD.js                                0.50 kB │ gzip:     0.36 kB
app build: dist/assets/yaml-C22khkYk.js                                0.50 kB │ gzip:     0.36 kB
app build: dist/assets/htmlmixed-B4FW8mOY.js                           0.50 kB │ gzip:     0.36 kB
app build: dist/assets/matchbrackets-BA-fNEBX.js                       0.50 kB │ gzip:     0.36 kB
app build: dist/assets/xml-bkaT-cHV.js                                 0.50 kB │ gzip:     0.36 kB
app build: dist/assets/gl-ZDiWBy_x.js                                  0.64 kB │ gzip:     0.38 kB
app build: dist/assets/es-DvScwAe4.js                                  0.64 kB │ gzip:     0.39 kB
app build: dist/assets/si-LK-BFeKlcrN.js                               0.64 kB │ gzip:     0.47 kB
app build: dist/assets/sv-LVjaGM8m.js                                  0.65 kB │ gzip:     0.41 kB
app build: dist/assets/@directus_extensions-sdk.SoNmVyc8.entry.js      0.67 kB │ gzip:     0.38 kB
app build: dist/assets/pt-br-OJKF2--T.js                               0.70 kB │ gzip:     0.40 kB
app build: dist/assets/de-B3aFfmNl.js                                  0.78 kB │ gzip:     0.45 kB
app build: dist/assets/de-at-jiaPoFI2.js                               0.78 kB │ gzip:     0.46 kB
app build: dist/assets/en-GB-nvfT3D3J.js                               0.88 kB │ gzip:     0.46 kB
app build: dist/assets/en-ZA-xcMjClPw.js                               0.88 kB │ gzip:     0.46 kB
app build: dist/assets/en-AU-DSW2_z8t.js                               0.89 kB │ gzip:     0.46 kB
app build: dist/assets/en-NZ-DFBtQZ5g.js                               0.89 kB │ gzip:     0.46 kB
app build: dist/assets/en-IN-DTiE9kpR.js                               0.89 kB │ gzip:     0.47 kB
app build: dist/assets/diff-Cx99VsUU.js                                0.93 kB │ gzip:     0.58 kB
app build: dist/assets/fr-BjGSgYy_.js                                  0.93 kB │ gzip:     0.49 kB
app build: dist/assets/fr-CA-CtqqYBUr.js                               0.94 kB │ gzip:     0.49 kB
app build: dist/assets/haskell-literate-B4lXG7YG.js                    1.05 kB │ gzip:     0.60 kB
app build: dist/assets/fr-CH-DodA-mJP.js                               1.09 kB │ gzip:     0.58 kB
app build: dist/assets/autorefresh-CDGbacqV.js                         1.22 kB │ gzip:     0.61 kB
app build: dist/assets/brainfuck-DKJMpWKp.js                           1.23 kB │ gzip:     0.65 kB
app build: dist/assets/overlay-BxIjisKn.js                             1.28 kB │ gzip:     0.51 kB
app build: dist/assets/properties-Q7S56sut.js                          1.33 kB │ gzip:     0.69 kB
app build: dist/assets/cmake-BuTbT4AJ.js                               1.39 kB │ gzip:     0.79 kB
app build: dist/assets/htmlembedded-B5o1edP1.js                        1.40 kB │ gzip:     0.69 kB
app build: dist/assets/yaml-frontmatter-qfRYuC5F.js                    1.48 kB │ gzip:     0.75 kB
app build: dist/assets/protobuf-DmvP1Pp9.js                            1.51 kB │ gzip:     0.87 kB
app build: dist/assets/solr-ynP6ceDo.js                                1.55 kB │ gzip:     0.82 kB
app build: dist/assets/asciiarmor-BqoRndwO.js                          1.57 kB │ gzip:     0.76 kB
app build: dist/assets/http-C1T8FW5d.js                                1.62 kB │ gzip:     0.82 kB
app build: dist/assets/troff-DVQRcC3J.js                               1.66 kB │ gzip:     0.78 kB
app build: dist/assets/toml-D8xKHyuE.js                                1.71 kB │ gzip:     0.82 kB
app build: dist/assets/active-line-Cl5LTXmM.js                         1.72 kB │ gzip:     0.84 kB
app build: dist/assets/yaml-Dr0pYQKm.js                                1.75 kB │ gzip:     0.83 kB
app build: dist/assets/spreadsheet--QxP0xK2.js                         1.76 kB │ gzip:     0.86 kB
app build: dist/assets/handlebars-DMCJ9xwW.js                          1.76 kB │ gzip:     0.83 kB
app build: dist/assets/tornado-B-OqsP9L.js                             1.76 kB │ gzip:     0.94 kB
app build: dist/assets/pegjs-BlIOwS72.js                               1.97 kB │ gzip:     0.95 kB
app build: dist/assets/en-CA-BiheQDe4.js                               1.98 kB │ gzip:     0.80 kB
app build: dist/assets/mbox-D-evzj2d.js                                2.03 kB │ gzip:     1.00 kB
app build: dist/assets/mark-selection-eA8izd35.js                      2.15 kB │ gzip:     1.00 kB
app build: dist/assets/vue-BMo3QpSC.js                                 2.15 kB │ gzip:     0.96 kB
app build: dist/assets/km-KH-BPjKOhO1.js                               2.16 kB │ gzip:     1.14 kB
app build: dist/assets/factor-jcLXhc1Y.js                              2.22 kB │ gzip:     0.92 kB
app build: dist/assets/sieve-CCebT7kf.js                               2.23 kB │ gzip:     1.08 kB
app build: dist/assets/rpm-CvfZN8yr.js                                 2.30 kB │ gzip:     1.16 kB
app build: dist/assets/multiplex-CwjZBANL.js                           2.33 kB │ gzip:     0.93 kB
app build: dist/assets/z80-bRIYXOhV.js                                 2.36 kB │ gzip:     1.14 kB
app build: dist/assets/eiffel-DpOMtMso.js                              2.39 kB │ gzip:     1.23 kB
app build: dist/assets/elm-Ba4qnfPd.js                                 2.49 kB │ gzip:     1.14 kB
app build: dist/assets/mathematica-DHy2SFF_.js                         2.51 kB │ gzip:     1.13 kB
app build: dist/assets/dockerfile-BZCtpzed.js                          2.52 kB │ gzip:     0.98 kB
app build: dist/assets/de-D7yY4wyg.js                                  2.53 kB │ gzip:     0.92 kB
app build: dist/assets/de-AT-BcuBb5Qy.js                               2.54 kB │ gzip:     0.93 kB
app build: dist/assets/twig-CFRgMl-V.js                                2.56 kB │ gzip:     1.18 kB
app build: dist/assets/turtle-6SBnIrx1.js                              2.57 kB │ gzip:     1.21 kB
app build: dist/assets/smalltalk-BHkuOrrt.js                           2.59 kB │ gzip:     1.17 kB
app build: dist/assets/haml-iZb-PnXs.js                                2.64 kB │ gzip:     1.11 kB
app build: dist/assets/dtd-CqfOM8p2.js                                 2.67 kB │ gzip:     1.21 kB
app build: dist/assets/mumps-BhSFmZnY.js                               2.68 kB │ gzip:     1.31 kB
app build: dist/assets/jsx-CbZ5aJTK.js                                 2.68 kB │ gzip:     1.23 kB
app build: dist/assets/rust-WDC4Z7Wv.js                                2.70 kB │ gzip:     1.26 kB
app build: dist/assets/fcl-Bka4LR35.js                                 2.72 kB │ gzip:     1.29 kB
app build: dist/assets/yacas-Cst6jkqy.js                               2.75 kB │ gzip:     1.39 kB
app build: dist/assets/ka-GE-GMxj7JM0.js                               2.78 kB │ gzip:     1.22 kB
app build: dist/assets/ntriples-s79N3di5.js                            2.82 kB │ gzip:     1.10 kB
app build: dist/assets/pascal-DYd4Oh0m.js                              2.83 kB │ gzip:     1.46 kB
app build: dist/assets/htmlmixed-BusOUAxx.js                           2.84 kB │ gzip:     1.31 kB
app build: dist/assets/apl-Dj01Ef2F.js                                 2.86 kB │ gzip:     1.67 kB
app build: dist/assets/octave-C3X0GO7Y.js                              2.92 kB │ gzip:     1.43 kB
app build: dist/assets/commonlisp-BBpb4BTV.js                          2.93 kB │ gzip:     1.42 kB
app build: dist/assets/ebnf-CXtdnKCI.js                                2.94 kB │ gzip:     1.28 kB
app build: dist/assets/tcl-B9O0KG8p.js                                 2.95 kB │ gzip:     1.53 kB
app build: dist/assets/dart-o8uyk3-F.js                                2.98 kB │ gzip:     1.45 kB
app build: dist/assets/gfm-CKQCdVZ6.js                                 3.06 kB │ gzip:     1.73 kB
app build: dist/assets/match-highlighter-CRMh7N0P.js                   3.13 kB │ gzip:     1.41 kB
app build: dist/assets/puppet-DKbAVUyX.js                              3.15 kB │ gzip:     1.52 kB
app build: dist/assets/webidl-Bq9WCiET.js                              3.16 kB │ gzip:     1.58 kB
app build: dist/assets/shell-B2BG7dhO.js                               3.19 kB │ gzip:     1.54 kB
app build: dist/assets/jinja2-DDu2IQOk.js                              3.22 kB │ gzip:     1.37 kB
app build: dist/assets/pig-Bmgq51Id.js                                 3.27 kB │ gzip:     1.79 kB
app build: dist/assets/stex-DjiUz2wX.js                                3.28 kB │ gzip:     1.26 kB
app build: dist/assets/velocity-Ce7kbcAP.js                            3.30 kB │ gzip:     1.43 kB
app build: dist/assets/forth-14J50-Wo.js                               3.33 kB │ gzip:     1.74 kB
app build: dist/assets/smarty-D7zz5d85.js                              3.38 kB │ gzip:     1.45 kB
app build: dist/assets/tiddlywiki-DWqkznAl.js                          3.40 kB │ gzip:     1.40 kB
app build: dist/assets/go-DftG-h29.js                                  3.46 kB │ gzip:     1.64 kB
app build: dist/assets/oz-Co_pQ0fv.js                                  3.53 kB │ gzip:     1.62 kB
app build: dist/assets/r-CIBw9HEX.js                                   3.61 kB │ gzip:     1.71 kB
app build: dist/assets/modelica-CLvSWdP7.js                            3.69 kB │ gzip:     1.75 kB
app build: dist/assets/javascript-hint-zB187bFU.js                     3.69 kB │ gzip:     1.71 kB
app build: dist/assets/tiki-COe_7mFm.js                                3.90 kB │ gzip:     1.62 kB
app build: dist/assets/vhdl-C_PbIUFH.js                                3.96 kB │ gzip:     1.85 kB
app build: dist/assets/wast-BBo9d8YA.js                                4.01 kB │ gzip:     1.88 kB
app build: dist/assets/lua-5DssZH-O.js                                 4.06 kB │ gzip:     1.79 kB
app build: dist/assets/sparql-CG5Wfkru.js                              4.15 kB │ gzip:     1.95 kB
app build: dist/assets/mscgen-8juk1Mka.js                              4.25 kB │ gzip:     1.35 kB
app build: dist/assets/d-ZgCfm5E6.js                                   4.39 kB │ gzip:     2.02 kB
app build: dist/assets/cypher-B57DOHdb.js                              4.47 kB │ gzip:     2.03 kB
app build: dist/assets/swift-Dapg_kPP.js                               4.56 kB │ gzip:     2.08 kB
app build: dist/assets/vb-DG1RiVgj.js                                  4.56 kB │ gzip:     2.15 kB
app build: dist/assets/asn.1-GDT_B4YA.js                               4.59 kB │ gzip:     2.31 kB
app build: dist/assets/coffeescript-CFapUG90.js                        4.61 kB │ gzip:     2.06 kB
app build: dist/assets/q-B8Rxiksa.js                                   4.62 kB │ gzip:     2.00 kB
app build: dist/assets/dylan-CXh02PD2.js                               4.62 kB │ gzip:     1.96 kB
app build: dist/assets/vue.wgR5vgTp.entry.js                           4.71 kB │ gzip:     2.05 kB
app build: dist/assets/groovy-BhE77Crw.js                              4.75 kB │ gzip:     2.09 kB
app build: dist/assets/livescript-oepDdbfL.js                          4.79 kB │ gzip:     1.98 kB
app build: dist/assets/ttcn-cfg-DO3D9eqM.js                            4.80 kB │ gzip:     2.09 kB
app build: dist/assets/match-DRhlTUWq.js                               4.81 kB │ gzip:     1.82 kB
app build: dist/assets/ko-sHFxhip6.js                                  4.82 kB │ gzip:     2.00 kB
app build: dist/assets/gas-DBFBsn_X.js                                 4.93 kB │ gzip:     1.58 kB
app build: dist/assets/haskell-B8eGYUSo.js                             4.94 kB │ gzip:     2.27 kB
app build: dist/assets/match-BL_S1EAQ.js                               4.96 kB │ gzip:     1.51 kB
app build: dist/assets/zh-TW-B7oLGlwJ.js                               4.98 kB │ gzip:     2.20 kB
app build: dist/assets/asterisk-DbTh0ENd.js                            5.08 kB │ gzip:     2.10 kB
app build: dist/assets/sass-wskr4JU9.js                                5.09 kB │ gzip:     1.97 kB
app build: dist/assets/ja-BsW8W12v.js                                  5.16 kB │ gzip:     2.21 kB
app build: dist/assets/django-BlKjtFRv.js                              5.17 kB │ gzip:     1.85 kB
app build: dist/assets/zh-CN-D0rqHWNx.js                               5.22 kB │ gzip:     2.28 kB
app build: dist/assets/fortran-BL-cPWAJ.js                             5.27 kB │ gzip:     2.34 kB
app build: dist/assets/ht-Y_jCKFuD.js                                  5.28 kB │ gzip:     2.02 kB
app build: dist/assets/nl-BE-D0Ac24-9.js                               5.32 kB │ gzip:     2.01 kB
app build: dist/assets/nl-B3rpqh0_.js                                  5.32 kB │ gzip:     2.01 kB
app build: dist/assets/nb-DLcd2ufY.js                                  5.37 kB │ gzip:     2.01 kB
app build: dist/assets/ruby-BiihR4Nn.js                                5.38 kB │ gzip:     2.27 kB
app build: dist/assets/mllike-CiOuoSeK.js                              5.46 kB │ gzip:     1.86 kB
app build: dist/assets/nn-BawBb97a.js                                  5.47 kB │ gzip:     2.07 kB
app build: dist/assets/eo-BMiX-QeL.js                                  5.52 kB │ gzip:     2.10 kB
app build: dist/assets/gu-DPFqwUiX.js                                  5.56 kB │ gzip:     2.30 kB
app build: dist/assets/mk-DwjTMDiD.js                                  5.59 kB │ gzip:     2.41 kB
app build: dist/assets/uz-twhikSmc.js                                  5.61 kB │ gzip:     1.99 kB
app build: dist/assets/pinia.CgQSnxxV.entry.js                         5.66 kB │ gzip:     2.57 kB
app build: dist/assets/ug-9iqpM0fe.js                                  5.71 kB │ gzip:     2.16 kB
app build: dist/assets/hu-DfCDqLWS.js                                  5.72 kB │ gzip:     2.33 kB
app build: dist/assets/crystal-cGK7sZel.js                             5.74 kB │ gzip:     2.40 kB
app build: dist/assets/sq-CEVT73b_.js                                  5.74 kB │ gzip:     2.14 kB
app build: dist/assets/ecl-b_Et4QFr.js                                 5.75 kB │ gzip:     2.63 kB
app build: dist/assets/ms-DQc19cxt.js                                  5.77 kB │ gzip:     1.98 kB
app build: dist/assets/id-CDi_BeGf.js                                  5.78 kB │ gzip:     1.98 kB
app build: dist/assets/ttcn-B52Y3IBH.js                                5.85 kB │ gzip:     2.62 kB
app build: dist/assets/af-COYA6Ex1.js                                  5.86 kB │ gzip:     2.11 kB
app build: dist/assets/da-D1o9yFfo.js                                  5.87 kB │ gzip:     2.08 kB
app build: dist/assets/ro-Nxdd1qO9.js                                  5.90 kB │ gzip:     2.13 kB
app build: dist/assets/is-DQhOXJ_u.js                                  5.93 kB │ gzip:     2.16 kB
app build: dist/assets/tr-CZ_hVhwO.js                                  5.94 kB │ gzip:     2.28 kB
app build: dist/assets/sv-DOp5xo3G.js                                  5.94 kB │ gzip:     2.21 kB
app build: dist/assets/fa-IR-CzpLX0lp.js                               5.96 kB │ gzip:     2.44 kB
app build: dist/assets/hy-CRDktrR7.js                                  5.97 kB │ gzip:     2.42 kB
app build: dist/assets/bg-BP5mm2gs.js                                  5.98 kB │ gzip:     2.64 kB
app build: dist/assets/gl-DuHZP9lS.js                                  6.03 kB │ gzip:     2.17 kB
app build: dist/assets/mt-CgesWmti.js                                  6.04 kB │ gzip:     2.21 kB
app build: dist/assets/hi-4VJp33uI.js                                  6.06 kB │ gzip:     2.49 kB
app build: dist/assets/julia-KhZnybM5.js                               6.07 kB │ gzip:     2.51 kB
app build: dist/assets/pt-BR-B57Z6OVf.js                               6.11 kB │ gzip:     2.23 kB
app build: dist/assets/es-BYwwKAv9.js                                  6.20 kB │ gzip:     2.18 kB
app build: dist/assets/pt-JxDg-g0f.js                                  6.22 kB │ gzip:     2.15 kB
app build: dist/assets/th-Brnt239Z.js                                  6.28 kB │ gzip:     2.47 kB
app build: dist/assets/el-1XvytS7Z.js                                  6.30 kB │ gzip:     2.76 kB
app build: dist/assets/ka-BQQhdSw5.js                                  6.38 kB │ gzip:     2.36 kB
app build: dist/assets/he-6nT-E69v.js                                  6.42 kB │ gzip:     2.55 kB
app build: dist/assets/it-DQYdfB-l.js                                  6.42 kB │ gzip:     2.20 kB
app build: dist/assets/gd-B6Sta70M.js                                  6.44 kB │ gzip:     2.36 kB
app build: dist/assets/eu-BsdenR5J.js                                  6.46 kB │ gzip:     2.14 kB
app build: dist/assets/vbscript-TGX9d61P.js                            6.48 kB │ gzip:     2.92 kB
app build: dist/assets/mirc-DZEquHAt.js                                6.53 kB │ gzip:     3.02 kB
app build: dist/assets/fi-CIHRGSdU.js                                  6.55 kB │ gzip:     2.25 kB
app build: dist/assets/cy-D2QMS0Yv.js                                  6.58 kB │ gzip:     2.35 kB
app build: dist/assets/ar-SA-CIMnU8FN.js                               6.59 kB │ gzip:     2.44 kB
app build: dist/assets/ar-MA-DG1ZEypR.js                               6.61 kB │ gzip:     2.45 kB
app build: dist/assets/ku-TR-J1sgNKdl.js                               6.61 kB │ gzip:     2.85 kB
app build: dist/assets/az-ghBPbDaV.js                                  6.63 kB │ gzip:     2.40 kB
app build: dist/assets/ar-DZ-B2ytddK9.js                               6.66 kB │ gzip:     2.48 kB
app build: dist/assets/bn-Dwf-3_hF.js                                  6.71 kB │ gzip:     2.59 kB
app build: dist/assets/te-IN-B4fg5gC-.js                               6.80 kB │ gzip:     3.45 kB
app build: dist/assets/cobol-CS6CFeYf.js                               6.82 kB │ gzip:     3.31 kB
app build: dist/assets/ca-CDUYVa4v.js                                  6.94 kB │ gzip:     2.38 kB
app build: dist/assets/scheme-DHjwrx-2.js                              6.97 kB │ gzip:     2.70 kB
app build: dist/assets/rst-C7SS99nO.js                                 7.00 kB │ gzip:     2.40 kB
app build: dist/assets/python-auihwSB-.js                              7.07 kB │ gzip:     3.08 kB
app build: dist/assets/mn-DsgLBqbx.js                                  7.07 kB │ gzip:     2.61 kB
app build: dist/assets/et-BpRuP45k.js                                  7.18 kB │ gzip:     2.19 kB
app build: dist/assets/vi-Csq_0Zyu.js                                  7.28 kB │ gzip:     2.63 kB
app build: dist/assets/xquery-DrS4ejz6.js                              7.32 kB │ gzip:     2.89 kB
app build: dist/assets/nsis-XEHRuphH.js                                7.38 kB │ gzip:     3.31 kB
app build: dist/assets/te-BIM2MeXK.js                                  7.41 kB │ gzip:     2.53 kB
app build: dist/assets/textile-CMX55RI2.js                             7.49 kB │ gzip:     2.78 kB
app build: dist/assets/lb-CquS4wZ9.js                                  7.71 kB │ gzip:     2.49 kB
app build: dist/assets/kn-CMvNrfml.js                                  7.77 kB │ gzip:     2.60 kB
app build: dist/assets/slim-CDDT79xX.js                                7.91 kB │ gzip:     2.92 kB
app build: dist/assets/nginx-rrQ6Is8-.js                               7.95 kB │ gzip:     3.06 kB
app build: dist/assets/lt-Bj0ygRYo.js                                  7.97 kB │ gzip:     2.70 kB
app build: dist/assets/sr-DUWlhj5N.js                                  8.18 kB │ gzip:     2.70 kB
app build: dist/assets/sk-DNobO0Ed.js                                  8.21 kB │ gzip:     2.79 kB
app build: dist/assets/ta-Dfo43sFf.js                                  8.22 kB │ gzip:     2.78 kB
app build: dist/assets/sr-Latn-AXZtBgBc.js                             8.24 kB │ gzip:     2.46 kB
app build: dist/assets/powershell-D346gE3g.js                          8.42 kB │ gzip:     3.67 kB
app build: dist/assets/pl-7Do48mYz.js                                  8.46 kB │ gzip:     2.83 kB
app build: dist/assets/pug-BtP0wl7U.js                                 8.49 kB │ gzip:     2.64 kB
app build: dist/assets/hr-BU31MYKi.js                                  8.51 kB │ gzip:     2.56 kB
app build: dist/assets/gherkin-BsCqHcjf.js                             8.58 kB │ gzip:     5.49 kB
app build: dist/assets/haxe-FhYNlOmx.js                                8.65 kB │ gzip:     3.30 kB
app build: dist/assets/lv-BXzgowXd.js                                  8.70 kB │ gzip:     2.58 kB
app build: dist/assets/erlang-niOtPPWw.js                              8.72 kB │ gzip:     3.24 kB
app build: dist/assets/fo-FO-C8VkGziH.js                               8.78 kB │ gzip:     3.40 kB
app build: dist/assets/bn-IN-D7zOC6lT.js                               8.98 kB │ gzip:     3.92 kB
app build: dist/assets/af-ZA-BAgyiyXa.js                               9.86 kB │ gzip:     3.60 kB
app build: dist/assets/sas-BaMOTXGy.js                                 9.91 kB │ gzip:     4.43 kB
app build: dist/assets/kk-DILCdWDb.js                                 10.17 kB │ gzip:     3.06 kB
app build: dist/assets/perl-Cy1VY9Rw.js                               10.39 kB │ gzip:     3.80 kB
app build: dist/assets/cs-D-u1zRNM.js                                 10.41 kB │ gzip:     2.83 kB
app build: dist/assets/uk-BKVpqIUy.js                                 10.54 kB │ gzip:     3.33 kB
app build: dist/assets/ru-BHyntnjA.js                                 10.54 kB │ gzip:     3.30 kB
app build: dist/assets/be-9FnPNKcJ.js                                 10.78 kB │ gzip:     3.36 kB
app build: dist/assets/soy-DCUPoBXJ.js                                10.81 kB │ gzip:     3.53 kB
app build: dist/assets/sl-BNMwfpC-.js                                 10.85 kB │ gzip:     2.85 kB
app build: dist/assets/verilog-DXtZ12e_.js                            11.12 kB │ gzip:     4.60 kB
app build: dist/assets/show-hint-DOhypWQO.js                          11.12 kB │ gzip:     4.13 kB
app build: dist/assets/jsonlint--2yu7YVM.js                           11.37 kB │ gzip:     4.44 kB
app build: dist/assets/clojure-BgfjlU78.js                            11.53 kB │ gzip:     4.36 kB
app build: dist/assets/idl-PcWaYPMH.js                                12.26 kB │ gzip:     4.89 kB
app build: dist/assets/ms-MY-aSf3-Hmv.js                              12.67 kB │ gzip:     4.62 kB
app build: dist/assets/sr-SP-BY0Ihd9g.js                              13.63 kB │ gzip:     5.58 kB
app build: dist/assets/php-DY8qXs3f.js                                14.35 kB │ gzip:     5.53 kB
app build: dist/assets/az-AZ-Cpf-zHHl.js                              14.57 kB │ gzip:     5.06 kB
app build: dist/assets/he-IL-CR-tHeJz.js                              16.01 kB │ gzip:     6.00 kB
app build: dist/assets/clike-BXVHeZF8.js                              21.52 kB │ gzip:     7.74 kB
app build: dist/assets/is-IS-il6FCz_d.js                              21.97 kB │ gzip:     8.35 kB
app build: dist/assets/vue-router.CUNOcKiw.entry.js                   25.47 kB │ gzip:    10.29 kB
app build: dist/assets/vue.runtime.esm-bundler-5xC1UApn.js            26.10 kB │ gzip:    10.82 kB
app build: dist/assets/stylus-B3WBfjap.js                             26.52 kB │ gzip:     9.09 kB
app build: dist/assets/hi-IN-CAShrw1A.js                              26.76 kB │ gzip:    10.69 kB
app build: dist/assets/css-CEEyKHW5.js                                27.81 kB │ gzip:     8.75 kB
app build: dist/assets/el-GR-9oh9jfbv.js                              28.12 kB │ gzip:    10.68 kB
app build: dist/assets/index-DqVw6u1_.js                              46.65 kB │ gzip:    19.12 kB
app build: dist/assets/vue-i18n.CR_BJTw4.entry.js                     47.61 kB │ gzip:    16.27 kB
app build: dist/assets/sql-zYGlGpbC.js                                47.88 kB │ gzip:    14.20 kB
app build: dist/assets/no-NO-DcLvDlD_.js                              53.05 kB │ gzip:    17.34 kB
app build: dist/assets/eo-UY-lyIJ4KgC.js                              57.29 kB │ gzip:    18.77 kB
app build: dist/assets/br-FR-7KEOVXnj.js                              65.50 kB │ gzip:    20.88 kB
app build: dist/assets/sr-CS-BC0m_BLM.js                              66.88 kB │ gzip:    22.21 kB
app build: dist/assets/vi-VN-ComQP-dq.js                              68.70 kB │ gzip:    23.79 kB
app build: dist/assets/ja-JP-DKAMv7zS.js                              73.09 kB │ gzip:    28.98 kB
app build: dist/assets/sl-SI-Bkm9IRmn.js                              74.12 kB │ gzip:    24.58 kB
app build: dist/assets/th-TH-DgnFPmTa.js                              74.14 kB │ gzip:    28.10 kB
app build: dist/assets/et-EE-CdvjmWQp.js                              76.54 kB │ gzip:    25.61 kB
app build: dist/assets/pt-PT-BueTVqg6.js                              78.63 kB │ gzip:    25.13 kB
app build: dist/assets/runtime-core.esm-bundler-ClgvGijD.js           83.21 kB │ gzip:    32.94 kB
app build: dist/assets/en-CA-QRi_97wV.js                              84.05 kB │ gzip:    26.65 kB
app build: dist/assets/zh-TW-DeysaneG.js                              86.84 kB │ gzip:    36.21 kB
app build: dist/assets/id-ID-Dw08yDR2.js                              88.61 kB │ gzip:    28.12 kB
app build: dist/assets/fi-FI-DGoNUZKO.js                              92.51 kB │ gzip:    30.34 kB
app build: dist/assets/sv-SE-BBJFS4PC.js                              95.25 kB │ gzip:    30.66 kB
app build: dist/assets/ca-ES-Dqt2Wjp-.js                              95.62 kB │ gzip:    30.62 kB
app build: dist/assets/ne-NP-DEYXXE2j.js                              98.54 kB │ gzip:    36.42 kB
app build: dist/assets/ro-RO-DiqPKB5I.js                             101.66 kB │ gzip:    32.54 kB
app build: dist/assets/nl-NL-DGjhcMuA.js                             106.00 kB │ gzip:    33.56 kB
app build: dist/assets/bs-BA-D3aJrxC4.js                             106.01 kB │ gzip:    33.88 kB
app build: dist/assets/en-GB-BAkLfjnm.js                             106.18 kB │ gzip:    33.54 kB
app build: dist/assets/zh-CN-C7ej6tDU.js                             108.80 kB │ gzip:    45.55 kB
app build: dist/assets/ko-KR-49MMgkrP.js                             109.29 kB │ gzip:    44.02 kB
app build: dist/assets/da-DK-CDcFKEgG.js                             111.17 kB │ gzip:    35.75 kB
app build: dist/assets/fa-IR-0qpnBaPY.js                             112.64 kB │ gzip:    40.35 kB
app build: dist/assets/hu-HU-oyccSvBQ.js                             113.47 kB │ gzip:    37.45 kB
app build: dist/assets/ar-SA-Bs8gwlbb.js                             117.27 kB │ gzip:    41.58 kB
app build: dist/assets/tr-TR-BNZzxQs4.js                             131.39 kB │ gzip:    43.27 kB
app build: dist/assets/bg-BG-CdEB3wiN.js                             136.53 kB │ gzip:    47.19 kB
app build: dist/assets/mr-IN-BszUiu7T.js                             137.08 kB │ gzip:    51.16 kB
app build: dist/assets/hr-HR-BxsttotG.js                             138.27 kB │ gzip:    44.48 kB
app build: dist/assets/sk-SK-Dy6lNFfL.js                             138.32 kB │ gzip:    45.77 kB
app build: dist/assets/cs-CZ-ogNiTDRE.js                             138.33 kB │ gzip:    45.80 kB
app build: dist/assets/pl-PL-DTdHstk6.js                             139.24 kB │ gzip:    45.23 kB
app build: dist/assets/ckb-IR-DKDl4iF6.js                            141.55 kB │ gzip:    48.31 kB
app build: dist/assets/mn-MN-DerOVGXK.js                             141.99 kB │ gzip:    48.61 kB
app build: dist/assets/kmr-TR-VRsgk1W9.js                            142.09 kB │ gzip:    45.15 kB
app build: dist/assets/pt-BR-C7sdSzMk.js                             142.59 kB │ gzip:    45.10 kB
app build: dist/assets/uk-UA-D5EOiEjg.js                             142.90 kB │ gzip:    51.32 kB
app build: dist/assets/lt-LT-D1igMIAk.js                             142.94 kB │ gzip:    46.17 kB
app build: dist/assets/sq-AL-C7-FEmTI.js                             144.07 kB │ gzip:    45.98 kB
app build: dist/assets/de-DE-Hy65GGkk.js                             146.05 kB │ gzip:    45.62 kB
app build: dist/assets/it-IT-CLAb84-l.js                             146.94 kB │ gzip:    44.94 kB
app build: dist/assets/ru-RU-Bd7sM3R_.js                             146.96 kB │ gzip:    52.15 kB
app build: dist/assets/es-419-DCcG9y8y.js                            147.35 kB │ gzip:    46.18 kB
app build: dist/assets/es-MX-7sg_ZgLr.js                             147.53 kB │ gzip:    45.80 kB
app build: dist/assets/es-ES-BXyvAKI0.js                             147.56 kB │ gzip:    46.15 kB
app build: dist/assets/es-CL-BWTX-isQ.js                             147.58 kB │ gzip:    46.13 kB
app build: dist/assets/fr-CA-CF9Z8j36.js                             149.61 kB │ gzip:    46.25 kB
app build: dist/assets/fr-FR-CE_HHS1z.js                             149.68 kB │ gzip:    46.23 kB
app build: dist/assets/index-CQsZK4H4.js                             450.99 kB │ gzip:   125.46 kB
app build: dist/assets/input-rich-text-html-AOoDBHCa.js            1,238.98 kB │ gzip:   429.72 kB
app build: dist/assets/index.Bi4g_cbI.entry.js                     5,883.83 kB │ gzip: 1,759.98 kB
app build: ✓ built in 46.06s
app build: (!) Some chunks are larger than 500 kB after minification. Consider:
app build: - Using dynamic import() to code-split the application
app build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
app build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
app build: Done
api build$ rimraf ./dist && tsc --project tsconfig.prod.json && copyfiles "src/**/*.{yaml,liquid}" -u 1 dist
api build: Done

> test
> pnpm --recursive --filter '!tests-blackbox' test

Scope: 40 of 42 workspace projects
packages/format-title test$ vitest --watch=false
packages/random test$ vitest --watch=false
packages/release-notes-generator test$ vitest --watch=false
packages/storage test$ vitest --watch=false
packages/format-title test:  RUN  v2.1.9 /workspace/directus/packages/format-title
packages/random test:  RUN  v2.1.9 /workspace/directus/packages/random
packages/release-notes-generator test:  RUN  v2.1.9 /workspace/directus/packages/release-notes-generator
packages/storage test:  RUN  v2.1.9 /workspace/directus/packages/storage
packages/random test:  ✓ src/alpha.test.ts (1 test) 3ms
packages/random test:  ✓ src/sequence.test.ts (2 tests) 10ms
packages/random test:  ✓ src/array.test.ts (1 test) 9ms
packages/format-title test:  ✓ src/constants/constants.test.ts (1 test) 8ms
packages/release-notes-generator test:  ✓ src/utils/generate-markdown.test.ts (3 tests) 20ms
packages/format-title test:  ✓ src/utils/handle-special-words.test.ts (9 tests) 13ms
packages/storage test:  ✓ src/index.test.ts (6 tests) 42ms
packages/format-title test:  ✓ src/index.test.ts (5 tests) 4ms
packages/storage test:  Test Files  1 passed (1)
packages/storage test:       Tests  6 passed (6)
packages/storage test:    Start at  15:30:20
packages/storage test:    Duration  894ms (transform 113ms, setup 0ms, collect 102ms, tests 42ms, environment 0ms, prepare 255ms)
packages/storage test: Done
packages/release-notes-generator test:  ✓ src/utils/get-info.test.ts (1 test) 50ms
packages/update-check test$ vitest --watch=false
packages/release-notes-generator test: stderr | src/utils/process-packages.test.ts > should fail if main version is missing
packages/release-notes-generator test: Promise returned by `expect(actual).rejects.toThrow(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/release-notes-generator test:     at /workspace/directus/packages/release-notes-generator/src/utils/process-packages.test.ts:67:32
packages/release-notes-generator test: stderr | src/utils/process-packages.test.ts > should fail with manually defined version when not in prerelease mode
packages/release-notes-generator test: Promise returned by `expect(actual).rejects.toThrow(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/release-notes-generator test:     at /workspace/directus/packages/release-notes-generator/src/utils/process-packages.test.ts:84:32
packages/release-notes-generator test:  ✓ src/utils/process-packages.test.ts (10 tests) 68ms
packages/random test:  ✓ src/integer.test.ts (1 test) 7ms
packages/random test:  ✓ src/identifier.test.ts (1 test) 3ms
packages/random test:  ✓ src/uuid.test.ts (2 tests) 7ms
packages/format-title test:  ✓ src/utils/combine.test.ts (1 test) 3ms
packages/format-title test:  ✓ src/utils/capitalize.test.ts (1 test) 6ms
packages/random test:  Test Files  6 passed (6)
packages/random test:       Tests  8 passed (8)
packages/random test:    Start at  15:30:20
packages/random test:    Duration  1.45s (transform 428ms, setup 0ms, collect 822ms, tests 39ms, environment 1ms, prepare 1.16s)
packages/format-title test:  ✓ src/utils/decamelize.test.ts (1 test) 6ms
packages/release-notes-generator test:  ✓ src/utils/process-release-lines.test.ts (2 tests) 6ms
packages/random test: Done
tests/build-memory test$ node --test test.mjs
packages/format-title test:  Test Files  6 passed (6)
packages/format-title test:       Tests  18 passed (18)
packages/format-title test:    Start at  15:30:20
packages/format-title test:    Duration  1.50s (transform 347ms, setup 0ms, collect 568ms, tests 41ms, environment 1ms, prepare 1.17s)
packages/release-notes-generator test:  Test Files  4 passed (4)
packages/release-notes-generator test:       Tests  16 passed (16)
packages/release-notes-generator test:    Start at  15:30:20
packages/release-notes-generator test:    Duration  1.50s (transform 355ms, setup 0ms, collect 1.01s, tests 144ms, environment 8ms, prepare 808ms)
packages/format-title test: Done
packages/release-notes-generator test: Done
tests/build-memory test: TAP version 13
tests/build-memory test: # Subtest: build and start with in-memory sqlite
tests/build-memory test: ok 1 - build and start with in-memory sqlite # SKIP
tests/build-memory test:   ---
tests/build-memory test:   duration_ms: 0.569501
tests/build-memory test:   type: 'test'
tests/build-memory test:   ...
packages/update-check test:  RUN  v2.1.9 /workspace/directus/packages/update-check
tests/build-memory test: 1..1
tests/build-memory test: # tests 1
tests/build-memory test: # suites 0
tests/build-memory test: # pass 0
tests/build-memory test: # fail 0
tests/build-memory test: # cancelled 0
tests/build-memory test: # skipped 1
tests/build-memory test: # todo 0
tests/build-memory test: # duration_ms 57.989426
tests/build-memory test: Done
packages/update-check test:  ✓ src/index.test.ts (2 tests) 15ms
packages/update-check test:  Test Files  1 passed (1)
packages/update-check test:       Tests  2 passed (2)
packages/update-check test:    Start at  15:30:21
packages/update-check test:    Duration  334ms (transform 54ms, setup 0ms, collect 132ms, tests 15ms, environment 0ms, prepare 57ms)
packages/update-check test: Done
packages/errors test$ vitest --typecheck --watch=false
packages/storage-driver-local test$ vitest --watch=false
sdk test$ vitest --typecheck --watch=false
sdk test: Testing types with tsc and vue-tsc is an experimental feature.
sdk test: Breaking changes might not follow SemVer, please pin Vitest's version when using it.
packages/errors test: Testing types with tsc and vue-tsc is an experimental feature.
packages/errors test: Breaking changes might not follow SemVer, please pin Vitest's version when using it.
sdk test:  RUN  v2.1.9 /workspace/directus/sdk
packages/errors test:  RUN  v2.1.9 /workspace/directus/packages/errors
packages/storage-driver-local test:  RUN  v2.1.9 /workspace/directus/packages/storage-driver-local
sdk test: (node:16333) ExperimentalWarning: glob is an experimental feature and might change at any time
sdk test: (Use `node --trace-warnings ...` to show where the warning was created)
sdk test:  ✓ tests/exports.test.ts (2 tests) 12ms
packages/errors test:  ✓ src/create-error.test.ts (5 tests) 32ms
packages/storage-driver-local test:  ✓ src/index.test.ts (28 tests) 73ms
packages/storage-driver-local test:  Test Files  1 passed (1)
packages/storage-driver-local test:       Tests  28 passed (28)
packages/storage-driver-local test:    Start at  15:30:22
packages/storage-driver-local test:    Duration  1.33s (transform 265ms, setup 0ms, collect 417ms, tests 73ms, environment 0ms, prepare 213ms)
packages/errors test:  ✓ src/errors/record-not-unique.test.ts (5 tests) 3ms
packages/errors test:  ✓ src/errors/value-out-of-range.test.ts (5 tests) 4ms
packages/storage-driver-local test: Done
packages/errors test:  ✓ src/errors/invalid-foreign-key.test.ts (5 tests) 8ms
packages/errors test:  ✓ src/errors/value-too-long.test.ts (5 tests) 3ms
packages/errors test:  ✓ src/is-directus-error.test.ts (3 tests) 3ms
packages/errors test:  ✓ src/errors/not-null-violation.test.ts (4 tests) 5ms
packages/errors test:  ✓ src/errors/contains-null-values.test.ts (1 test) 4ms
packages/errors test:  ✓  TS  src/is-directus-error.test-d.ts (4 tests)
packages/errors test:  ✓ src/errors/range-not-satisfiable.test.ts (1 test) 4ms
packages/errors test:  ✓ src/errors/invalid-payload.test.ts (1 test) 2ms
packages/errors test:  ✓ src/errors/invalid-query.test.ts (1 test) 2ms
packages/errors test:  ✓ src/errors/limit-exceeded.test.ts (1 test) 2ms
packages/errors test:  ✓ src/errors/hit-rate-limit.test.ts (1 test) 12ms
packages/errors test:  ✓ src/errors/unsupported-media-type.test.ts (1 test) 10ms
packages/errors test:  Test Files  15 passed (15)
packages/errors test:       Tests  43 passed (43)
packages/errors test: Type Errors  no errors
packages/errors test:    Start at  15:30:22
packages/errors test:    Duration  3.03s (transform 669ms, setup 0ms, collect 2.49s, tests 94ms, environment 2ms, prepare 1.92s, typecheck 2.17s)
packages/errors test: Done
sdk test:  ✓  TS  tests/no-schema.test-d.ts (3 tests)
sdk test:  ✓  TS  tests/fields.test-d.ts (4 tests)
sdk test:  ✓  TS  tests/filters.test-d.ts (1 test)
sdk test:  Test Files  4 passed (4)
sdk test:       Tests  10 passed (10)
sdk test: Type Errors  no errors
sdk test:    Start at  15:30:22
sdk test:    Duration  4.66s (transform 21ms, setup 0ms, collect 67ms, tests 12ms, environment 0ms, prepare 216ms, typecheck 4.29s)
sdk test: Done
packages/schema-builder test$ vitest --watch=false
packages/schema-builder test:  RUN  v2.1.9 /workspace/directus/packages/schema-builder
packages/schema-builder test:  ✓ src/builder.test.ts (14 tests) 27ms
packages/schema-builder test:  Test Files  1 passed (1)
packages/schema-builder test:       Tests  14 passed (14)
packages/schema-builder test:    Start at  15:30:27
packages/schema-builder test:    Duration  1.20s (transform 103ms, setup 0ms, collect 936ms, tests 27ms, environment 0ms, prepare 60ms)
packages/schema-builder test: Done
packages/utils test$ vitest --watch=false
packages/utils test:  RUN  v2.1.9 /workspace/directus/packages/utils
packages/utils test:  ✓ shared/generate-joi.test.ts (72 tests) 66ms
packages/utils test:  ✓ shared/get-relation.test.ts (8 tests) 16ms
packages/utils test:  ✓ shared/compress.test.ts (19 tests) 9ms
packages/utils test:  ✓ shared/parse-filter.test.ts (25 tests) 16ms
packages/utils test:  ✓ shared/validate-payload.test.ts (17 tests) 30ms
packages/utils test:  ✓ shared/apply-options-data.test.ts (12 tests) 8ms
packages/utils test:  ✓ shared/get-filter-operators-for-type.test.ts (9 tests) 6ms
packages/utils test:  ✓ shared/get-with-arrays.test.ts (8 tests) 6ms
packages/utils test:  ✓ shared/deep-map.test.ts (13 tests) 5ms
packages/utils test:  ✓ shared/functions.test.ts (9 tests) 8ms
packages/utils test:  ✓ shared/add-field-flag.test.ts (4 tests) 3ms
packages/utils test:  ✓ shared/adjust-date.test.ts (9 tests) 6ms
packages/utils test:  ✓ shared/get-collection-type.test.ts (3 tests) 3ms
packages/utils test:  ✓ shared/sieve-functions.test.ts (6 tests) 4ms
packages/utils test:  ✓ shared/get-relation-type.test.ts (3 tests) 3ms
packages/utils test:  ✓ shared/abbreviate-number.test.ts (9 tests) 4ms
packages/utils test:  ✓ shared/parse-filter-function-path.test.ts (6 tests) 3ms
packages/utils test:  ✓ shared/normalize-path.test.ts (10 tests) 4ms
packages/utils test:  ✓ node/process-id.test.ts (2 tests) 5ms
packages/utils test:  ✓ shared/inject-function-results.test.ts (4 tests) 5ms
packages/utils test:  ✓ node/array-helpers.test.ts (5 tests) 4ms
packages/utils test:  ✓ shared/array-helpers.test.ts (5 tests) 6ms
packages/utils test:  ✓ shared/move-in-array.test.ts (4 tests) 4ms
packages/utils test:  ✓ shared/merge-filters.test.ts (4 tests) 3ms
packages/utils test:  ✓ node/path-to-relative-url.test.ts (2 tests) 7ms
packages/utils test:  ✓ shared/parse-json.test.ts (3 tests) 3ms
packages/utils test:  ✓ node/list-folders.test.ts (1 test) 12ms
packages/utils test:  ✓ shared/is-vue-component.test.ts (2 tests) 3ms
packages/utils test:  ✓ shared/is-dynamic-variable.test.ts (8 tests) 3ms
packages/utils test:  ✓ shared/defaults.test.ts (2 tests) 3ms
packages/utils test:  ✓ shared/get-fields-from-template.test.ts (2 tests) 3ms
packages/utils test:  ✓ shared/is-object.test.ts (8 tests) 3ms
packages/utils test: stderr | node/readable-stream-to-string.test.ts > Returns readable stream as string
packages/utils test: Promise returned by `expect(actual).resolves.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/utils test:     at /workspace/directus/packages/utils/node/readable-stream-to-string.test.ts:9:48
packages/utils test: stderr | node/readable-stream-to-string.test.ts > Returns readable stream as string
packages/utils test: Promise returned by `expect(actual).resolves.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/utils test:     at /workspace/directus/packages/utils/node/readable-stream-to-string.test.ts:9:48
packages/utils test:  ✓ node/readable-stream-to-string.test.ts (2 tests) 10ms
packages/utils test:  ✓ shared/is-valid-json.test.ts (2 tests) 3ms
packages/utils test:  ✓ shared/get-simple-hash.test.ts (2 tests) 2ms
packages/utils test:  ✓ shared/to-array.test.ts (2 tests) 3ms
packages/utils test:  ✓ shared/get-endpoint.test.ts (2 tests) 3ms
packages/utils test:  ✓ shared/to-boolean.test.ts (11 tests) 3ms
packages/utils test:  ✓ shared/get-redacted-string.test.ts (2 tests) 2ms
packages/utils test:  ✓ node/pluralize.test.ts (2 tests) 3ms
packages/utils test:  ✓ shared/pluralize.test.ts (2 tests) 2ms
packages/utils test:  ✓ shared/number-generator.test.ts (1 test) 2ms
packages/utils test:  ✓ node/get-node-env.test.ts (1 test) 3ms
packages/utils test:  Test Files  43 passed (43)
packages/utils test:       Tests  323 passed (323)
packages/utils test:    Start at  15:30:28
packages/utils test:    Duration  6.76s (transform 904ms, setup 0ms, collect 9.41s, tests 300ms, environment 8ms, prepare 3.48s)
packages/utils test: Done
packages/env test$ vitest --watch=false
packages/storage-driver-azure test$ vitest --watch=false
packages/memory test$ vitest --watch=false
packages/pressure test$ vitest --watch=false
packages/storage-driver-azure test:  RUN  v2.1.9 /workspace/directus/packages/storage-driver-azure
packages/pressure test:  RUN  v2.1.9 /workspace/directus/packages/pressure
packages/env test:  RUN  v2.1.9 /workspace/directus/packages/env
packages/memory test:  RUN  v2.1.9 /workspace/directus/packages/memory
packages/pressure test:  ✓ src/monitor.test.ts (16 tests) 46ms
packages/pressure test:  Test Files  1 passed (1)
packages/pressure test:       Tests  16 passed (16)
packages/pressure test:    Start at  15:30:35
packages/pressure test:    Duration  4.00s (transform 358ms, setup 0ms, collect 3.21s, tests 46ms, environment 0ms, prepare 233ms)
packages/env test:  ✓ src/lib/cast.test.ts (11 tests) 20ms
packages/pressure test: Done
packages/storage-driver-cloudinary test$ vitest --watch=false
packages/env test:  ✓ src/lib/create-env.test.ts (9 tests) 54ms
packages/env test:  ✓ src/lib/read-configuration-from-file.test.ts (5 tests) 5ms
packages/memory test: stderr | src/kv/lib/local.test.ts > increment > Errors if key does not contain number
packages/memory test: Promise returned by `expect(actual).rejects.toMatchInlineSnapshot(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/memory test:     at /workspace/directus/packages/memory/src/kv/lib/local.test.ts:127:31
packages/memory test: stderr | src/kv/lib/local.test.ts > setMax > Errors if key does not contain number
packages/memory test: Promise returned by `expect(actual).rejects.toMatchInlineSnapshot(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/memory test:     at /workspace/directus/packages/memory/src/kv/lib/local.test.ts:139:39
packages/memory test:  ✓ src/kv/lib/local.test.ts (15 tests) 41ms
packages/storage-driver-cloudinary test:  RUN  v2.1.9 /workspace/directus/packages/storage-driver-cloudinary
packages/storage-driver-azure test:  ✓ src/index.test.ts (29 tests) 82ms
packages/storage-driver-azure test:  Test Files  1 passed (1)
packages/storage-driver-azure test:       Tests  29 passed (29)
packages/storage-driver-azure test:    Start at  15:30:35
packages/storage-driver-azure test:    Duration  4.88s (transform 484ms, setup 0ms, collect 4.20s, tests 82ms, environment 0ms, prepare 154ms)
packages/env test:  ✓ src/utils/guess-type.test.ts (14 tests) 13ms
packages/storage-driver-azure test: Done
packages/storage-driver-gcs test$ vitest --watch=false
packages/memory test:  ✓ src/kv/lib/redis.test.ts (22 tests) 1049ms
packages/env test:  ✓ src/utils/read-configuration-from-javascript.test.ts (5 tests) 67ms
packages/memory test:  ✓ src/bus/lib/redis.test.ts (18 tests) 1396ms
packages/storage-driver-gcs test:  RUN  v2.1.9 /workspace/directus/packages/storage-driver-gcs
packages/memory test:  ✓ src/bus/lib/local.test.ts (7 tests) 22ms
packages/env test:  ✓ src/utils/get-config-path.test.ts (2 tests) 10ms
packages/env test:  ✓ src/utils/read-configuration-from-json.test.ts (3 tests) 31ms
packages/env test:  ✓ src/utils/read-configuration-from-dotenv.test.ts (3 tests) 41ms
packages/env test:  ✓ src/utils/read-configuration-from-yaml.test.ts (2 tests) 21ms
packages/env test:  ✓ src/lib/create-env.int.test.ts (1 test) 32ms
packages/env test:  ✓ src/utils/is-directus-variable.test.ts (3 tests) 5ms
packages/env test:  ✓ src/utils/get-default-type.test.ts (3 tests) 3ms
packages/memory test:  ✓ src/cache/lib/multi.test.ts (8 tests) 20ms
packages/storage-driver-cloudinary test:  ✓ src/index.test.ts (84 tests) 333ms
packages/memory test:  ✓ src/cache/lib/redis.test.ts (5 tests) 145ms
packages/storage-driver-cloudinary test:  Test Files  1 passed (1)
packages/storage-driver-cloudinary test:       Tests  84 passed (84)
packages/storage-driver-cloudinary test:    Start at  15:30:40
packages/storage-driver-cloudinary test:    Duration  4.86s (transform 491ms, setup 0ms, collect 3.94s, tests 333ms, environment 0ms, prepare 180ms)
packages/storage-driver-cloudinary test: Done
packages/storage-driver-s3 test$ vitest --watch=false
packages/memory test: stderr | src/limiter/utils/consume.test.ts > Rejects error as-is if error instance is given
packages/memory test: Promise returned by `expect(actual).rejects.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/memory test:     at /workspace/directus/packages/memory/src/limiter/utils/consume.test.ts:34:44
packages/memory test:  ✓ src/limiter/utils/consume.test.ts (3 tests) 45ms
packages/storage-driver-gcs test:  ✓ src/index.test.ts (26 tests) 91ms
packages/storage-driver-gcs test:  Test Files  1 passed (1)
packages/storage-driver-gcs test:       Tests  26 passed (26)
packages/storage-driver-gcs test:    Start at  15:30:41
packages/storage-driver-gcs test:    Duration  4.22s (transform 331ms, setup 0ms, collect 3.48s, tests 91ms, environment 0ms, prepare 192ms)
packages/memory test:  ✓ src/cache/lib/local.test.ts (5 tests) 8ms
packages/storage-driver-gcs test: Done
packages/storage-driver-supabase test$ vitest --watch=false
packages/storage-driver-s3 test:  RUN  v2.1.9 /workspace/directus/packages/storage-driver-s3
packages/memory test:  ✓ src/limiter/lib/redis.test.ts (3 tests) 211ms
packages/env test:  ✓ src/utils/has-cast-prefix.test.ts (4 tests) 2ms
packages/memory test:  ✓ src/limiter/lib/local.test.ts (3 tests) 13ms
packages/storage-driver-supabase test:  RUN  v2.1.9 /workspace/directus/packages/storage-driver-supabase
packages/memory test:  ✓ src/utils/is-compressed.test.ts (5 tests) 4ms
packages/env test:  ✓ src/utils/read-configuration-from-process.test.ts (1 test) 4ms
packages/memory test:  ✓ src/limiter/lib/create.test.ts (3 tests) 6ms
packages/memory test:  ✓ src/utils/compress.test.ts (5 tests) 26ms
packages/env test:  ✓ src/utils/is-file-key.test.ts (3 tests) 3ms
packages/env test:  ✓ src/lib/use-env.test.ts (2 tests) 3ms
packages/env test:  ✓ src/utils/try-json.test.ts (2 tests) 3ms
packages/env test:  ✓ src/utils/get-file-extension.test.ts (1 test) 3ms
packages/env test:  ✓ src/utils/remove-file-suffix.test.ts (1 test) 3ms
packages/env test:  Test Files  19 passed (19)
packages/env test:       Tests  75 passed (75)
packages/env test:    Start at  15:30:35
packages/env test:    Duration  12.64s (transform 961ms, setup 0ms, collect 26.27s, tests 322ms, environment 3ms, prepare 3.56s)
packages/env test: Done
packages/validation test$ vitest --watch=false
packages/validation test:  RUN  v2.1.9 /workspace/directus/packages/validation
packages/memory test:  ✓ src/cache/lib/create.test.ts (4 tests) 6ms
packages/storage-driver-s3 test: stderr | src/index.test.ts > #read > Throws an error when returned stream is not a readable stream
packages/storage-driver-s3 test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/storage-driver-s3 test:     at /workspace/directus/packages/storage-driver-s3/src/index.test.ts:374:65
packages/storage-driver-s3 test:  ✓ src/index.test.ts (42 tests) 112ms
packages/storage-driver-s3 test:  Test Files  1 passed (1)
packages/storage-driver-s3 test:       Tests  42 passed (42)
packages/storage-driver-s3 test:    Start at  15:30:46
packages/storage-driver-s3 test:    Duration  4.32s (transform 501ms, setup 0ms, collect 3.50s, tests 112ms, environment 0ms, prepare 262ms)
packages/storage-driver-s3 test: Done
packages/memory test:  ✓ src/bus/lib/create.test.ts (3 tests) 9ms
packages/memory test:  ✓ src/kv/lib/create.test.ts (3 tests) 5ms
packages/storage-driver-supabase test: stderr | src/index.test.ts > #read > Throws an error when returned stream is not a readable stream
packages/storage-driver-supabase test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/storage-driver-supabase test:     at /workspace/directus/packages/storage-driver-supabase/src/index.test.ts:316:65
packages/storage-driver-supabase test: stderr | src/index.test.ts > #stat > Throws an error no file is returned by list
packages/storage-driver-supabase test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/storage-driver-supabase test:     at /workspace/directus/packages/storage-driver-supabase/src/index.test.ts:389:40
packages/storage-driver-supabase test: stderr | src/index.test.ts > #stat > Throws an error if storage error is returned
packages/storage-driver-supabase test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/storage-driver-supabase test:     at /workspace/directus/packages/storage-driver-supabase/src/index.test.ts:400:40
packages/storage-driver-supabase test:  ✓ src/index.test.ts (39 tests) 69ms
packages/storage-driver-supabase test:  Test Files  1 passed (1)
packages/storage-driver-supabase test:       Tests  39 passed (39)
packages/storage-driver-supabase test:    Start at  15:30:47
packages/storage-driver-supabase test:    Duration  3.97s (transform 423ms, setup 0ms, collect 3.26s, tests 69ms, environment 0ms, prepare 168ms)
packages/memory test:  ✓ src/utils/buffer-to-uint8array.test.ts (1 test) 2ms
packages/storage-driver-supabase test: Done
packages/memory test:  ✓ src/utils/uint8array-to-buffer.test.ts (1 test) 2ms
packages/memory test:  ✓ src/utils/string-to-uint8array.test.ts (1 test) 3ms
packages/memory test:  ✓ src/utils/uint8array-to-string.test.ts (1 test) 2ms
packages/memory test:  ✓ src/utils/with-namespace.test.ts (1 test) 2ms
packages/memory test:  ✓ src/utils/serialize.test.ts (5 tests) 3ms
packages/memory test:  Test Files  22 passed (22)
packages/memory test:       Tests  122 passed (122)
packages/memory test:    Start at  15:30:35
packages/memory test:    Duration  15.84s (transform 1.53s, setup 0ms, collect 32.58s, tests 3.02s, environment 8ms, prepare 3.45s)
packages/validation test:  ✓ src/errors/failed-validation.test.ts (17 tests) 7ms
packages/memory test: Done
packages/validation test:  Test Files  1 passed (1)
packages/validation test:       Tests  17 passed (17)
packages/validation test:    Start at  15:30:49
packages/validation test:    Duration  2.55s (transform 243ms, setup 0ms, collect 2.08s, tests 7ms, environment 0ms, prepare 149ms)
packages/validation test: Done
packages/extensions test$ vitest --watch=false
packages/extensions test:  RUN  v2.1.9 /workspace/directus/packages/extensions
packages/extensions test:  ✓ src/shared/utils/define-extension.test.ts (9 tests) 4ms
packages/extensions test:  ✓ src/node/utils/generate-extensions-entrypoint.test.ts (6 tests) 16ms
packages/extensions test:  Test Files  2 passed (2)
packages/extensions test:       Tests  15 passed (15)
packages/extensions test:    Start at  15:30:52
packages/extensions test:    Duration  438ms (transform 122ms, setup 0ms, collect 353ms, tests 19ms, environment 0ms, prepare 124ms)
packages/extensions test: Done
packages/composables test$ vitest --watch=false
packages/extensions-registry test$ vitest --watch=false
packages/composables test:  RUN  v2.1.9 /workspace/directus/packages/composables
packages/extensions-registry test:  RUN  v2.1.9 /workspace/directus/packages/extensions-registry
packages/extensions-registry test:  ✓ src/modules/list/lib/construct-url.test.ts (7 tests) 7ms
packages/extensions-registry test:  ✓ src/utils/get-api-version.test.ts (6 tests) 7ms
packages/extensions-registry test: stderr | src/modules/list/list.test.ts > Throws if version compatibility assertion throws
packages/extensions-registry test: Promise returned by `expect(actual).rejects.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/extensions-registry test:     at /workspace/directus/packages/extensions-registry/src/modules/list/list.test.ts:24:23
packages/extensions-registry test:  ✓ src/modules/list/list.test.ts (3 tests) 11ms
packages/extensions-registry test:  ✓ src/modules/describe/lib/construct-url.test.ts (3 tests) 4ms
packages/extensions-registry test: stderr | src/utils/assert-version-compatibility.test.ts > Throws out of date error if current version is not supported
packages/extensions-registry test: Promise returned by `expect(actual).rejects.toBeInstanceOf(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/extensions-registry test:     at /workspace/directus/packages/extensions-registry/src/utils/assert-version-compatibility.test.ts:19:43
packages/extensions-registry test:  ✓ src/utils/assert-version-compatibility.test.ts (2 tests) 11ms
packages/extensions-registry test: stderr | src/modules/describe/describe.test.ts > Throws if version compatibility assertion throws
packages/extensions-registry test: Promise returned by `expect(actual).rejects.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
packages/extensions-registry test:     at /workspace/directus/packages/extensions-registry/src/modules/describe/describe.test.ts:24:34
packages/extensions-registry test:  ✓ src/modules/describe/describe.test.ts (3 tests) 10ms
packages/extensions-registry test:  Test Files  6 passed (6)
packages/extensions-registry test:       Tests  24 passed (24)
packages/extensions-registry test:    Start at  15:30:53
packages/extensions-registry test:    Duration  916ms (transform 357ms, setup 0ms, collect 801ms, tests 50ms, environment 1ms, prepare 681ms)
packages/extensions-registry test: Done
packages/composables test:  ✓ src/use-items.test.ts (8 tests) 13ms
packages/composables test:  Test Files  1 passed (1)
packages/composables test:       Tests  8 passed (8)
packages/composables test:    Start at  15:30:53
packages/composables test:    Duration  2.13s (transform 187ms, setup 0ms, collect 1.75s, tests 13ms, environment 0ms, prepare 122ms)
packages/composables test: Done
packages/extensions-sdk test$ vitest --watch=false
packages/extensions-sdk test:  RUN  v2.1.9 /workspace/directus/packages/extensions-sdk
packages/extensions-sdk test:  ✓ src/cli/utils/get-package-manager-agent.test.ts (2 tests) 3ms
packages/extensions-sdk test:  ✓ src/cli/utils/get-package-manager.test.ts (4 tests) 3ms
packages/extensions-sdk test:  ✓ src/cli/utils/get-sdk-version.test.ts (1 test) 2ms
packages/extensions-sdk test: - Scaffolding Directus extension...
packages/extensions-sdk test: ✔ Done
packages/extensions-sdk test: stdout | directus-extension.test.ts
packages/extensions-sdk test: Your interface extension has been created at /workspace/directus/packages/extensions-sdk/temp-extension-validate-1752161458839
packages/extensions-sdk test: To start developing, run:
packages/extensions-sdk test: 	cd temp-extension-validate-1752161458839
packages/extensions-sdk test: 	pnpm run dev
packages/extensions-sdk test: To build for production, run:
packages/extensions-sdk test: 	pnpm run build
packages/extensions-sdk test: - Scaffolding Directus extension...
packages/extensions-sdk test: ✔ Done
packages/extensions-sdk test: stdout | directus-extension.test.ts > create and build > 'interface' extension with 'extension.config.js' config file
packages/extensions-sdk test: Your interface extension has been created at /workspace/directus/packages/extensions-sdk/temp-extension-init-interface-javascript-1752161462878
packages/extensions-sdk test: To start developing, run:
packages/extensions-sdk test: 	cd temp-extension-init-interface-javascript-1752161462878
packages/extensions-sdk test: 	pnpm run dev
packages/extensions-sdk test: To build for production, run:
packages/extensions-sdk test: 	pnpm run build
packages/extensions-sdk test: - Scaffolding Directus extension...
packages/extensions-sdk test: ✔ Done
packages/extensions-sdk test: stdout | directus-extension.test.ts > create and build > 'interface' extension with 'extension.config.js' config file
packages/extensions-sdk test: Your interface extension has been created at /workspace/directus/packages/extensions-sdk/temp-extension-init-interface-typescript-1752161462878
packages/extensions-sdk test: To start developing, run:
packages/extensions-sdk test: 	cd temp-extension-init-interface-typescript-1752161462878
packages/extensions-sdk test: 	pnpm run dev
packages/extensions-sdk test: To build for production, run:
packages/extensions-sdk test: 	pnpm run build
packages/extensions-sdk test: - Scaffolding Directus extension...
packages/extensions-sdk test: ✔ Done
packages/extensions-sdk test: stdout | directus-extension.test.ts > create and build > 'endpoint' extension with 'extension.config.mjs' config file
packages/extensions-sdk test: Your endpoint extension has been created at /workspace/directus/packages/extensions-sdk/temp-extension-init-endpoint-javascript-1752161477814
packages/extensions-sdk test: To start developing, run:
packages/extensions-sdk test: 	cd temp-extension-init-endpoint-javascript-1752161477814
packages/extensions-sdk test: 	pnpm run dev
packages/extensions-sdk test: To build for production, run:
packages/extensions-sdk test: 	pnpm run build
packages/extensions-sdk test: - Scaffolding Directus extension...
packages/extensions-sdk test: ✔ Done
packages/extensions-sdk test: stdout | directus-extension.test.ts > create and build > 'endpoint' extension with 'extension.config.mjs' config file
packages/extensions-sdk test: Your endpoint extension has been created at /workspace/directus/packages/extensions-sdk/temp-extension-init-endpoint-typescript-1752161477814
packages/extensions-sdk test: To start developing, run:
packages/extensions-sdk test: 	cd temp-extension-init-endpoint-typescript-1752161477814
packages/extensions-sdk test: 	pnpm run dev
packages/extensions-sdk test: To build for production, run:
packages/extensions-sdk test: 	pnpm run build
packages/extensions-sdk test: - Scaffolding Directus extension...
packages/extensions-sdk test: ✔ Done
packages/extensions-sdk test: stdout | directus-extension.test.ts > create and build > 'operation' extension with 'extension.config.cjs' config file
packages/extensions-sdk test: Your operation extension has been created at /workspace/directus/packages/extensions-sdk/temp-extension-init-operation-javascript-1752161492650
packages/extensions-sdk test: To start developing, run:
packages/extensions-sdk test: 	cd temp-extension-init-operation-javascript-1752161492650
packages/extensions-sdk test: 	pnpm run dev
packages/extensions-sdk test: To build for production, run:
packages/extensions-sdk test: 	pnpm run build
packages/extensions-sdk test: - Scaffolding Directus extension...
packages/extensions-sdk test: ✔ Done
packages/extensions-sdk test: stdout | directus-extension.test.ts > create and build > 'operation' extension with 'extension.config.cjs' config file
packages/extensions-sdk test: Your operation extension has been created at /workspace/directus/packages/extensions-sdk/temp-extension-init-operation-typescript-1752161492650
packages/extensions-sdk test: To start developing, run:
packages/extensions-sdk test: 	cd temp-extension-init-operation-typescript-1752161492650
packages/extensions-sdk test: 	pnpm run dev
packages/extensions-sdk test: To build for production, run:
packages/extensions-sdk test: 	pnpm run build
packages/extensions-sdk test:  ✓ directus-extension.test.ts (7 tests) 66595ms
packages/extensions-sdk test:    ✓ create and build > 'interface' extension with 'extension.config.js' config file 14935ms
packages/extensions-sdk test:    ✓ create and build > 'endpoint' extension with 'extension.config.mjs' config file 14836ms
packages/extensions-sdk test:    ✓ create and build > 'operation' extension with 'extension.config.cjs' config file 15961ms
packages/extensions-sdk test:    ✓ validate extension > built-code 7818ms
packages/extensions-sdk test:    ✓ validate extension > directus-config 2772ms
packages/extensions-sdk test:    ✓ validate extension > license 5095ms
packages/extensions-sdk test:    ✓ validate extension > readme 5167ms
packages/extensions-sdk test:  Test Files  4 passed (4)
packages/extensions-sdk test:       Tests  14 passed (14)
packages/extensions-sdk test:    Start at  15:30:55
packages/extensions-sdk test:    Duration  73.98s (transform 993ms, setup 0ms, collect 7.86s, tests 66.60s, environment 1ms, prepare 310ms)
packages/extensions-sdk test: Done
app test$ vitest --watch=false
app test:  RUN  v2.1.9 /workspace/directus/app
app test: Sourcemap for "/workspace/directus/sdk/dist/index.js" points to missing source files
app test:  ✓ src/utils/get-local-type.test.ts (13 tests) 18ms
app test:  ✓ src/composables/use-field-tree.test.ts (8 tests) 29ms
app test:  ✓ src/composables/use-relation-multiple.test.ts (8 tests) 33ms
app test:  ✓ src/stores/server.test.ts (11 tests) 19ms
app test:  ✓ src/composables/use-permissions/item/lib/get-fields.test.ts (21 tests) 32ms
app test:  ✓ src/composables/use-relation-permissions.test.ts (4 tests) 7ms
app test:  ✓ src/components/v-input.test.ts (21 tests) 76ms
app test:  ✓ src/utils/format-date.test.ts (25 tests) 34ms
app test:  ✓ src/layouts/kanban/kanban.test.ts (2 tests) 51ms
app test:  ✓ src/stores/settings.test.ts (7 tests) 19ms
app test:  ✓ src/stores/permissions.test.ts (27 tests) 30ms
app test:  ✓ src/composables/use-item/lib/get-graphql-query-fields.test.ts (4 tests) 12ms
app test:  ✓ src/composables/use-permissions/item/lib/is-action-allowed.test.ts (30 tests) 31ms
app test:  ✓ src/stores/user.test.ts (8 tests) 12ms
app test:  ✓ src/utils/push-group-options-down.test.ts (5 tests) 5ms
app test:  ✓ src/composables/use-permissions/lib/is-archive-allowed.test.ts (9 tests) 13ms
app test: stderr | src/composables/use-item/index.test.ts > Save As Copy > should use graphql to fetch existing item
app test: [Vue warn]: provide() can only be used inside setup().
app test: stderr | src/composables/use-item/index.test.ts > Save As Copy > should keep manual primary key
app test: [Vue warn]: provide() can only be used inside setup().
app test: stderr | src/composables/use-item/index.test.ts > Save As Copy > should omit auto incremented primary key
app test: [Vue warn]: provide() can only be used inside setup().
app test: stderr | src/composables/use-item/index.test.ts > Save As Copy > should omit special uuid primary key
app test: [Vue warn]: provide() can only be used inside setup().
app test:  ✓ src/composables/use-item/index.test.ts (4 tests) 24ms
app test:  ✓ src/components/v-menu.test.ts (7 tests) 120ms
app test:  ✓ src/utils/query-to-gql-string.test.ts (12 tests) 13ms
app test:  ✓ src/modules/settings/routes/data-model/field-detail/store/index.test.ts (4 tests | 1 skipped) 17ms
app test: stderr | src/routes/login/login.test.ts > show continue-as when authenticated
app test: [Vue warn]: injection "usehead" not found. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: Unhead is missing Vue context, falling back to shared context. This may have unexpected results.
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <PublicView> 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: stderr | src/routes/login/login.test.ts > show login form and sso links when unauthenticated
app test: [Vue warn]: injection "usehead" not found. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: Unhead is missing Vue context, falling back to shared context. This may have unexpected results.
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <PublicView> 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: stderr | src/routes/login/login.test.ts > show login form when unauthenticated and driver is local
app test: [Vue warn]: injection "usehead" not found. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: Unhead is missing Vue context, falling back to shared context. This may have unexpected results.
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <PublicView> 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: stderr | src/routes/login/login.test.ts > show ldap form when unauthenticated and driver is ldap
app test: [Vue warn]: injection "usehead" not found. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: Unhead is missing Vue context, falling back to shared context. This may have unexpected results.
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: [Vue warn]: Failed to resolve component: v-text-overflow
app test: If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement. 
app test:   at <PublicView> 
app test:   at <Login ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test:  ✓ src/routes/login/login.test.ts (4 tests) 57ms
app test:  ✓ src/composables/use-clipboard.test.ts (9 tests) 25ms
app test:  ✓ src/composables/use-permissions/item/utils/fetch-item-permissions.test.ts (5 tests) 10ms
app test:  ✓ src/stores/fields.test.ts (4 tests) 16ms
app test:  ✓ src/composables/use-permissions/collection/lib/is-sort-allowed.test.ts (9 tests) 13ms
app test:  ✓ src/utils/flatten-field-groups.test.ts (3 tests) 3ms
app test:  ✓ src/composables/use-folders.test.ts (2 tests) 15ms
app test:  ✓ src/utils/get-default-values-from-fields.test.ts (3 tests) 3ms
app test:  ✓ src/router.test.ts (5 tests) 1828ms
app test:    ✓ onBeforeEach > should try retrieving a fresh access token on first load 1467ms
app test:  ✓ src/idle.test.ts (4 tests) 46ms
app test: stderr | src/components/v-select/v-select.test.ts > should render with object items
app test: [Vue warn]: Failed to resolve directive: tooltip 
app test:   at <VSelect items= [
app test:   { text: 'Item 1', value: 'item1' },
app test:   { text: 'Item 2', value: 'item2' },
app test:   { text: 'Item 3', value: 'item3' }
app test: ] ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: stderr | src/components/v-select/v-select.test.ts > should render with string items
app test: [Vue warn]: Failed to resolve directive: tooltip 
app test:   at <VSelect items= [ 'Item 1', 'Item 2', 'Item 3' ] ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: stderr | src/components/v-select/v-select.test.ts > should hide items not matching search value > object items
app test: [Vue warn]: Failed to resolve directive: tooltip 
app test:   at <VSelect items= [
app test:   { text: 'Item 1', value: 'item1' },
app test:   { text: 'Item 2', value: 'item2' },
app test:   { text: 'Item 3', value: 'item3' },
app test:   { text: 'Item 4', value: 'item4' },
app test:   { text: 'Item 5', value: 'item5' },
app test:   { text: 'Item 6', value: 'item6' },
app test:   { text: 'Item 7', value: 'item7' },
app test:   { text: 'Item 8', value: 'item8' },
app test:   { text: 'Item 9', value: 'item9' },
app test:   { text: 'Item 10', value: 'item10' },
app test:   { text: 'Item 11', value: 'item11' }
app test: ] ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test: stderr | src/components/v-select/v-select.test.ts > should hide items not matching search value > string items
app test: [Vue warn]: Failed to resolve directive: tooltip 
app test:   at <VSelect items= [
app test:   'Item 1',  'Item 2',
app test:   'Item 3',  'Item 4',
app test:   'Item 5',  'Item 6',
app test:   'Item 7',  'Item 8',
app test:   'Item 9',  'Item 10',
app test:   'Item 11'
app test: ] ref="VTU_COMPONENT" > 
app test:   at <VTUROOT>
app test:  ✓ src/components/v-select/v-select.test.ts (4 tests) 96ms
app test:  ✓ src/composables/use-local-storage.test.ts (6 tests) 7ms
app test:  ✓ src/components/v-form/utils/get-form-fields.test.ts (6 tests) 14ms
app test:  ✓ src/utils/get-js-type.test.ts (8 tests) 4ms
app test:  ✓ src/stores/flows.test.ts (4 tests) 15ms
app test:  ✓ src/utils/get-route.test.ts (12 tests) 4ms
app test:  ✓ src/composables/use-alias-fields.test.ts (2 tests) 15ms
app test:  ✓ src/composables/use-page-size.test.ts (6 tests) 5ms
app test:  ✓ src/interfaces/input-rich-text-html/useImage.test.ts (4 tests) 24ms
app test:  ✓ src/utils/get-minimal-grid-class.test.ts (10 tests) 6ms
app test:  ✓ src/stores/collections.test.ts (2 tests) 29ms
app test:  ✓ src/components/v-form/utils/update-field-widths.test.ts (2 tests) 10ms
app test:  ✓ src/utils/get-related-collection.test.ts (4 tests) 7ms
app test:  ✓ src/components/use-datetime.test.ts (2 tests) 56ms
app test:  ✓ src/utils/add-related-primary-key-to-fields.test.ts (5 tests) 26ms
app test:  ✓ src/components/v-hover.test.ts (5 tests) 60ms
app test:  ✓ src/utils/flatten-grouped-collection.test.ts (2 tests) 8ms
app test:  ✓ src/components/v-checkbox.test.ts (6 tests) 74ms
app test:  ✓ src/hydrate.test.ts (4 tests) 31ms
app test:  ✓ src/composables/use-permissions/collection/lib/is-action-allowed.test.ts (12 tests) 11ms
app test:  ✓ src/utils/is-css-var.test.ts (8 tests) 3ms
app test:  ✓ src/composables/use-shortcut.test.ts (3 tests) 19ms
app test:  ✓ src/lang/get-current-language.test.ts (4 tests) 3ms
app test:  ✓ src/utils/format-field-function.test.ts (4 tests) 11ms
app test:  ✓ src/components/v-error-boundary.test.ts (3 tests) 44ms
app test:  ✓ src/utils/get-groups.test.ts (2 tests) 3ms
app test:  ✓ src/components/v-textarea.test.ts (4 tests) 34ms
app test:  ✓ src/interfaces/index.test.ts (1 test) 7ms
app test:  ✓ src/utils/validate-item.test.ts (1 test) 9ms
app test:  ✓ src/utils/get-appearance.test.ts (3 tests) 7ms
app test:  ✓ src/utils/get-vue-component-name.test.ts (5 tests) 17ms
app test:  ✓ src/components/v-pagination.test.ts (4 tests) 39ms
app test:  ✓ src/components/v-icon/v-icon.test.ts (5 tests) 53ms
app test:  ✓ src/utils/format-filesize.test.ts (4 tests) 4ms
app test:  ✓ src/lang/translations.test.ts (99566 tests) 13169ms
app test:  ✓ src/components/v-chip.test.ts (4 tests) 41ms
app test:  ✓ src/components/v-info.test.ts (4 tests) 61ms
app test:  ✓ src/utils/get-asset-url.test.ts (4 tests) 3ms
app test:  ✓ src/composables/use-permissions/utils/is-field-allowed.test.ts (4 tests) 2ms
app test:  ✓ src/components/v-badge.test.ts (4 tests) 52ms
app test:  ✓ src/components/v-form/utils/update-system-divider.test.ts (3 tests) 4ms
app test:  ✓ src/components/v-notice.test.ts (3 tests) 38ms
app test:  ✓ src/composables/use-permissions/collection/lib/is-revisions-allowed.test.ts (2 tests) 6ms
app test:  ✓ src/composables/use-permissions/lib/is-save-allowed.test.ts (2 tests) 3ms
app test:  ✓ src/components/v-workspace.test.ts (3 tests) 38ms
app test:  ✓ src/utils/parse-filter.test.ts (1 test) 7ms
app test:  ✓ src/layouts/calendar/options.test.ts (1 test) 20ms
app test:  ✓ src/utils/translate-shortcut.test.ts (2 tests) 3ms
app test:  ✓ src/components/v-fancy-select.test.ts (2 tests) 45ms
app test:  ✓ src/utils/get-special-for-type.test.ts (3 tests) 5ms
app test:  ✓ src/components/v-checkbox-tree/v-checkbox-tree.test.ts (1 test) 29ms
app test:  ✓ src/utils/is-permission-empty.test.ts (5 tests) 3ms
app test:  ✓ src/utils/user-name.test.ts (5 tests) 9ms
app test:  ✓ src/components/v-slider.test.ts (4 tests) 38ms
app test:  ✓ src/utils/get-root-path.test.ts (3 tests) 3ms
app test:  ✓ src/components/v-radio.test.ts (2 tests) 34ms
app test:  ✓ src/components/v-text-overflow.test.ts (2 tests) 41ms
app test:  ✓ src/utils/parse-preset.test.ts (1 test) 5ms
app test:  ✓ src/components/v-button.test.ts (1 test) 28ms
app test:  ✓ src/composables/use-event-listener.test.ts (1 test) 14ms
app test:  ✓ src/utils/get-literal-interpolated-translation.test.ts (4 tests) 3ms
app test:  ✓ src/components/v-workspace-tile.test.ts (1 test) 34ms
app test:  ✓ src/components/v-progress-circular.test.ts (3 tests) 39ms
app test:  ✓ src/components/v-overlay.test.ts (3 tests) 30ms
app test:  ✓ src/components/v-breadcrumb.test.ts (1 test) 159ms
app test:  ✓ src/components/v-skeleton-loader.test.ts (2 tests) 27ms
app test:  ✓ src/components/v-progress-linear.test.ts (2 tests) 40ms
app test:  ✓ src/components/v-highlight.test.ts (2 tests) 28ms
app test:  ✓ src/components/v-avatar.test.ts (3 tests) 29ms
app test:  ✓ src/utils/get-stringified-value.test.ts (3 tests) 2ms
app test:  ✓ src/utils/add-query-to-path.test.ts (2 tests) 2ms
app test:  ✓ src/components/v-divider.test.ts (2 tests) 32ms
app test:  ✓ src/components/v-card.test.ts (2 tests) 29ms
app test:  ✓ src/utils/point-on-line.test.ts (5 tests) 3ms
app test:  ✓ src/operations/exec/index.test.ts (1 test) 3ms
app test:  ✓ src/utils/is-hex.test.ts (2 tests) 15ms
app test:  ✓ src/utils/jwt-payload.test.ts (1 test) 3ms
app test:  ✓ src/utils/percentage.test.ts (3 tests) 2ms
app test:  ✓ src/utils/extract-field-from-function.test.ts (2 tests) 3ms
app test:  ✓ src/components/v-icon-file.test.ts (1 test) 170ms
app test:  ✓ src/components/v-card-subtitle.test.ts (1 test) 81ms
app test:  ✓ src/utils/hide-drag-image.test.ts (1 test) 4ms
app test:  ✓ src/components/v-card-actions.test.ts (1 test) 23ms
app test:  ✓ src/components/v-tabs.test.ts (1 test) 24ms
app test:  ✓ src/components/v-card-title.test.ts (1 test) 23ms
app test:  ✓ src/components/v-card-text.test.ts (1 test) 25ms
app test:  ✓ src/components/v-sheet.test.ts (1 test) 22ms
app test:  ✓ src/utils/md.test.ts (4 tests) 32ms
app test:  Test Files  118 passed (118)
app test:       Tests  100123 passed | 1 todo (100124)
app test:    Start at  15:32:10
app test:    Duration  78.37s (transform 16.69s, setup 0ms, collect 138.75s, tests 17.95s, environment 41.85s, prepare 9.80s)
app test: Done
api test$ vitest run
api test:  RUN  v2.1.9 /workspace/directus/api
api test:  ↓ src/services/policies.test.ts (1 test | 1 skipped)
api test:  ✓ src/utils/merge-version-data.test.ts (17 tests) 12ms
api test:  ✓ src/database/run-ast/lib/apply-query/filter/index.test.ts (29 tests) 45ms
api test:  ✓ src/permissions/modules/process-ast/lib/extract-fields-from-children.test.ts (12 tests) 8ms
api test: 3:33:35 PM [vite] warning: invalid import "./${pathToRelativeUrl(url, dirname(fileURLToPath(root)))}${options.fresh ? `?t=${Date.now()}` : ""}". A file extension must be included in the static part of the import. For example: import(`./foo/${bar}.js`).
api test:   Plugin: vite:dynamic-import-vars
api test:   File: /workspace/directus/api/src/utils/import-file-url.ts
api test:  ✓ src/services/users.test.ts (32 tests) 29ms
api test:  ✓ src/utils/apply-snapshot.test.ts (5 tests) 33ms
api test:  ✓ src/utils/sanitize-query.test.ts (50 tests) 17ms
api test:  ✓ src/permissions/modules/process-ast/lib/inject-cases.test.ts (9 tests) 8ms
api test:  ✓ src/database/get-ast-from-query/lib/parse-fields.test.ts (7 tests) 7ms
api test:  ✓ src/websocket/handlers/items.test.ts (11 tests) 17ms
api test:  ✓ src/services/payload.test.ts (20 tests) 21ms
api test:  ✓ src/utils/transformations.test.ts (13 tests) 6ms
api test: stderr | src/middleware/authenticate.test.ts > Throws InvalidCredentialsError when static token is used, but user does not exist
api test: Promise returned by `expect(actual).rejects.toEqual(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/middleware/authenticate.test.ts:201:32
api test:  ✓ src/middleware/authenticate.test.ts (7 tests) 18ms
api test:  ✓ src/database/get-ast-from-query/lib/convert-wildcards.test.ts (20 tests) 9ms
api test:  ✓ src/permissions/utils/get-permissions-for-share.test.ts (6 tests) 7ms
api test:  ✓ src/permissions/modules/process-payload/process-payload.test.ts (13 tests) 39ms
api test:  ✓ src/utils/sanitize-schema.test.ts (8 tests) 6ms
api test:  ✓ src/utils/url.test.ts (30 tests) 11ms
api test:  ✓ src/utils/redact-object.test.ts (14 tests) 13ms
api test:  ✓ src/utils/validate-diff.test.ts (12 tests) 13ms
api test:  ✓ src/services/specifications.test.ts (2 tests) 23ms
api test:  ✓ src/services/fields/get-collection-meta-updates.test.ts (12 tests) 5ms
api test:  ✓ src/utils/get-column-path.test.ts (8 tests) 4ms
api test:  ✓ src/websocket/handlers/subscribe.test.ts (5 tests) 68ms
api test:  ❯ src/middleware/error-handler.test.ts (11 tests | 2 failed) 52ms
api test:    × Error handler behaves correctly in express app > Handler is called in case of express route error 38ms
api test:      → expected 'upstream connect error or disconnect/…' to match object { errors: [ { …(2) } ] }
api test:    × Error handler behaves correctly in express app > Handler catches the case where headers have already been sent 7ms
api test:      → Request failed with status code 503
api test:  ✓ src/operations/item-update/index.test.ts (20 tests) 11ms
api test: [15:33:50.177] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630199,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/","query":{},"params":{},"headers":{"host":"127.0.0.1:41987","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":302,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","location":"./admin","vary":"Accept","content-type":"text/plain; charset=utf-8","content-length":"29"}},"responseTime":3,"msg":"request completed"}
api test: [15:33:50.213] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630223,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/","query":{},"params":{},"headers":{"host":"127.0.0.1:39483","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":302,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","location":"./admin","vary":"Accept","content-type":"text/plain; charset=utf-8","content-length":"29"}},"responseTime":1,"msg":"request completed"}
api test: [15:33:50.226] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630232,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/robots.txt","query":{},"params":{},"headers":{"host":"127.0.0.1:36925","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":200,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","content-type":"text/plain; charset=utf-8","content-length":"25","etag":"W/\"19-2NTlN/votVlrfMtAaltZ799LfR0\""}},"responseTime":1,"msg":"request completed"}
api test: [15:33:50.245] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630250,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/admin","query":{},"params":{},"headers":{"host":"127.0.0.1:33321","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":200,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","cache-control":"no-cache","vary":"Origin, Cache-Control","content-type":"text/html; charset=utf-8","content-length":"1775","etag":"W/\"6ef-1EnV+s8d76m1aDkhuCWrSsG7izQ\""}},"responseTime":1,"msg":"request completed"}
api test: [15:33:50.255] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630259,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/admin","query":{},"params":{},"headers":{"host":"127.0.0.1:36385","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":200,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","cache-control":"no-cache","vary":"Origin, Cache-Control","content-type":"text/html; charset=utf-8","content-length":"1775","etag":"W/\"6ef-1EnV+s8d76m1aDkhuCWrSsG7izQ\""}},"responseTime":0,"msg":"request completed"}
api test: [15:33:50.262] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630265,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/admin","query":{},"params":{},"headers":{"host":"127.0.0.1:45391","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":200,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","cache-control":"no-cache","vary":"Origin, Cache-Control","content-type":"text/html; charset=utf-8","content-length":"1799","etag":"W/\"707-BDBHMNhTiZqH02u59gOgPkGUKMI\""}},"responseTime":1,"msg":"request completed"}
api test: [15:33:50.267] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630271,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/admin","query":{},"params":{},"headers":{"host":"127.0.0.1:37097","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":200,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","cache-control":"no-cache","vary":"Origin, Cache-Control","content-type":"text/html; charset=utf-8","content-length":"1799","etag":"W/\"707-3GDPkMCuAnT/uAJC1uyMzGkRo84\""}},"responseTime":1,"msg":"request completed"}
api test: [15:33:50.275] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630279,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/server/ping","query":{},"params":{},"headers":{"host":"127.0.0.1:44863","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":200,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","content-type":"text/html; charset=utf-8","content-length":"4","etag":"W/\"4-DlFKBmK8tp3IY5U9HOJuPUDoGoc\""}},"responseTime":1,"msg":"request completed"}
api test: [15:33:50.281] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630289,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/custom-endpoint-to-test","query":{},"params":{},"headers":{"host":"127.0.0.1:40959","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":404,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","content-type":"application/json; charset=utf-8","content-length":"146","etag":"W/\"92-GaU/phs+ZPfL3MRC9KeKOkipuEU\""}},"responseTime":4,"msg":"request completed"}
api test: [15:33:50.294] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630298,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/custom-endpoint-to-test","query":{},"params":{},"headers":{"host":"127.0.0.1:43255","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":200,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","content-type":"application/json; charset=utf-8","content-length":"15","etag":"W/\"f-IoRYCVqVAgcPwRPZlQQiam/5Cpo\""}},"responseTime":1,"msg":"request completed"}
api test: [15:33:50.301] WARN: Extensions directory (/workspace/directus/api/extensions) is not readable!
api test: {"level":30,"time":1752161630305,"pid":24389,"hostname":"4eae9f222b61","req":{"id":1,"method":"GET","url":"/this-route-does-not-exist","query":{},"params":{},"headers":{"host":"127.0.0.1:45135","connection":"keep-alive","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate"}},"res":{"statusCode":404,"headers":{"content-security-policy":"script-src 'self' 'unsafe-eval';worker-src 'self' blob:;child-src 'self' blob:;img-src 'self' data: blob: https://raw.githubusercontent.com https://avatars.githubusercontent.com;media-src 'self';connect-src 'self' https://* wss://*;default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';object-src 'none';script-src-attr 'none';style-src 'self' https: 'unsafe-inline'","x-powered-by":"Directus","content-type":"application/json; charset=utf-8","content-length":"150","etag":"W/\"96-8Hn6piYDlIZELG5/eAUTxX2kgws\""}},"responseTime":1,"msg":"request completed"}
api test:  ✓ src/app.test.ts (11 tests) 134ms
api test:  ✓ src/utils/get-cache-key.test.ts (17 tests) 13ms
api test:  ✓ src/database/run-ast/utils/merge-with-parent-items.test.ts (9 tests) 12ms
api test:  ✓ src/services/import-export.test.ts (1 test) 2ms
api test:  ✓ src/database/run-ast/lib/apply-query/search.test.ts (14 tests) 18ms
api test:  ✓ src/websocket/handlers/logs.test.ts (5 tests) 73ms
api test:  ✓ src/operations/item-delete/index.test.ts (20 tests) 11ms
api test:  ✓ src/operations/exec/index.test.ts (12 tests) 568ms
api test:    ✓ Rejects when operation runs for longer than allowed  511ms
api test:  ✓ src/telemetry/lib/get-report.test.ts (7 tests) 7ms
api test:  ✓ src/operations/item-read/index.test.ts (20 tests) 12ms
api test:  ✓ src/utils/get-relation-info.test.ts (4 tests) 14ms
api test: stderr | src/services/schema.test.ts > Services / Schema > snapshot > should throw ForbiddenError for non-admin user
api test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/services/schema.test.ts:82:29
api test: stderr | src/services/schema.test.ts > Services / Schema > snapshot > should return snapshot for admin user
api test: Promise returned by `expect(actual).resolves.toEqual(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/services/schema.test.ts:90:29
api test: stderr | src/services/schema.test.ts > Services / Schema > apply > should throw ForbiddenError for non-admin user
api test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/services/schema.test.ts:109:46
api test: stderr | src/services/schema.test.ts > Services / Schema > diff > should throw ForbiddenError for non-admin user
api test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/services/schema.test.ts:155:88
api test: stderr | src/services/schema.test.ts > Services / Schema > diff > should return diff for admin user
api test: Promise returned by `expect(actual).resolves.toEqual(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/services/schema.test.ts:163:88
api test: stderr | src/services/schema.test.ts > Services / Schema > diff > should return null for empty diff
api test: Promise returned by `expect(actual).resolves.toBeNull()` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/services/schema.test.ts:173:85
api test:  ✓ src/services/schema.test.ts (8 tests) 24ms
api test:  ✓ src/database/run-ast/lib/apply-query/add-join.test.ts (7 tests) 15ms
api test:  ✓ src/database/run-ast/lib/apply-query/sort.test.ts (8 tests) 23ms
api test:  ✓ src/services/files.test.ts (4 tests) 17ms
api test:  ✓ src/controllers/files.test.ts (2 tests) 5ms
api test:  ✓ src/permissions/modules/fetch-accountability-collection-access/fetch-accountability-collection-access.test.ts (5 tests) 5ms
api test:  ✓ src/database/get-ast-from-query/utils/get-allowed-sort.test.ts (8 tests) 7ms
api test:  ✓ src/operations/mail/index.test.ts (7 tests) 23ms
api test:  ✓ src/permissions/modules/process-ast/process-ast.test.ts (6 tests) 9ms
api test:  ✓ src/utils/get-cache-headers.test.ts (13 tests) 6ms
api test:  ✓ src/permissions/lib/fetch-permissions.test.ts (5 tests) 8ms
api test: [15:34:08.876] WARN: GraphQL skipping collection "123table" because it is not a valid name matching /^[_A-Za-z][_0-9A-Za-z]*$/ or starts with __
api test: [15:34:08.880] WARN: GraphQL skipping collection "__underscore" because it is not a valid name matching /^[_A-Za-z][_0-9A-Za-z]*$/ or starts with __
api test: [15:34:08.880] WARN: GraphQL skipping collection "a-dash" because it is not a valid name matching /^[_A-Za-z][_0-9A-Za-z]*$/ or starts with __
api test: [15:34:08.880] WARN: GraphQL skipping collection "Schrödinger" because it is not a valid name matching /^[_A-Za-z][_0-9A-Za-z]*$/ or starts with __
api test: [15:34:08.881] WARN: GraphQL skipping collection "" because it is not a valid name matching /^[_A-Za-z][_0-9A-Za-z]*$/ or starts with __
api test: [15:34:08.883] WARN: GraphQL skipping collection "Subscription" because it is a reserved keyword
api test: [15:34:08.883] WARN: GraphQL skipping collection "Mutation" because it is a reserved keyword
api test: [15:34:08.883] WARN: GraphQL skipping collection "String" because it is a reserved keyword
api test: [15:34:08.884] WARN: GraphQL skipping collection "__invalid_collection" because it is not a valid name matching /^[_A-Za-z][_0-9A-Za-z]*$/ or starts with __
api test: [15:34:08.885] WARN: GraphQL skipping relation "normal_collection.test" because it links to a non-existent or invalid collection.
api test: [15:34:08.886] WARN: GraphQL skipping relation "__invalid_collection.test" because it links to a non-existent or invalid collection.
api test: [15:34:08.886] WARN: GraphQL skipping relation "normal_collection.test" because it links to a non-existent or invalid collection.
api test:  ✓ src/services/graphql/utils/sanitize-gql-schema.test.ts (4 tests) 24ms
api test:  ✓ src/permissions/modules/validate-access/lib/validate-item-access.test.ts (6 tests) 8ms
api test:  ✓ src/operations/json-web-token/index.test.ts (12 tests) 20ms
api test:  ✓ src/utils/should-skip-cache.test.ts (12 tests) 7ms
api test:  ✓ src/services/graphql/utils/filter-replace-m2a.test.ts (10 tests) 5ms
api test:  ✓ src/services/roles.test.ts (6 tests) 16ms
api test:  ✓ src/permissions/modules/process-ast/lib/extract-fields-from-query.test.ts (5 tests) 5ms
api test: stderr | src/utils/get-accountability-for-token.test.ts > getAccountabilityForToken > throws token expired error
api test: Promise returned by `expect(actual).rejects.toThrow(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/utils/get-accountability-for-token.test.ts:83:48
api test: stderr | src/utils/get-accountability-for-token.test.ts > getAccountabilityForToken > throws token invalid error
api test: Promise returned by `expect(actual).rejects.toThrow(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/utils/get-accountability-for-token.test.ts:88:48
api test: stderr | src/utils/get-accountability-for-token.test.ts > getAccountabilityForToken > no user found
api test: Promise returned by `expect(actual).rejects.toThrow(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/utils/get-accountability-for-token.test.ts:125:48
api test:  ✓ src/utils/get-accountability-for-token.test.ts (6 tests) 23ms
api test:  ✓ src/permissions/lib/fetch-policies.test.ts (6 tests) 8ms
api test:  ✓ src/request/is-denied-ip.test.ts (7 tests) 8ms
api test:  ✓ src/utils/is-login-redirect-allowed.test.ts (7 tests) 6ms
api test:  ✓ src/database/run-ast/lib/apply-query/aggregate.test.ts (7 tests) 10ms
api test:  ✓ src/permissions/modules/process-ast/utils/flatten-filter.test.ts (13 tests | 1 skipped) 5ms
api test: [15:34:16.667] INFO: Applying Remove Collection Foreign Keys...
api test: [15:34:16.682] INFO: Applying Remove System Relations...
api test: [15:34:16.702] INFO: Applying Remove Collection Foreign Keys...
api test: [15:34:16.706] INFO: Applying Remove Collection Foreign Keys...
api test:  ✓ src/database/migrations/run.test.ts (8 tests) 85ms
api test:  ✓ src/utils/get-ip-from-req.test.ts (9 tests) 11ms
api test:  ✓ src/websocket/errors.test.ts (7 tests) 8ms
api test: stderr | src/websocket/authenticate.test.ts > authenticateConnection > Failure token expired
api test: Promise returned by `expect(actual).rejects.toThrow(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/websocket/authenticate.test.ts:95:3
api test: stderr | src/websocket/authenticate.test.ts > authenticateConnection > Failure authentication failed
api test: Promise returned by `expect(actual).rejects.toThrow(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/websocket/authenticate.test.ts:104:3
api test:  ✓ src/websocket/authenticate.test.ts (7 tests) 11ms
api test:  ✓ src/websocket/handlers/heartbeat.test.ts (3 tests) 8ms
api test:  ✓ src/utils/freeze-schema.test.ts (7 tests) 4ms
api test:  ✓ src/telemetry/utils/get-item-count.test.ts (7 tests) 7ms
api test:  ✓ src/middleware/validate-batch.test.ts (8 tests) 8ms
api test:  ✓ src/permissions/modules/fetch-global-access/utils/fetch-global-access-for-query.test.ts (7 tests) 6ms
api test:  ✓ src/utils/validate-keys.test.ts (8 tests) 11ms
api test:  ✓ src/permissions/utils/fetch-dynamic-variable-data.test.ts (3 tests) 6ms
api test: [15:34:23.933] WARN: Webhooks are deprecated and the WebhooksService will be removed in an upcoming release. Creating/Updating Webhooks is disabled, use Flows instead
api test: [15:34:23.938] WARN: Webhooks are deprecated and the WebhooksService will be removed in an upcoming release. Creating/Updating Webhooks is disabled, use Flows instead
api test: [15:34:23.939] WARN: Webhooks are deprecated and the WebhooksService will be removed in an upcoming release. Creating/Updating Webhooks is disabled, use Flows instead
api test: [15:34:23.940] WARN: Webhooks are deprecated and the WebhooksService will be removed in an upcoming release. Creating/Updating Webhooks is disabled, use Flows instead
api test: [15:34:23.941] WARN: Webhooks are deprecated and the WebhooksService will be removed in an upcoming release. Creating/Updating Webhooks is disabled, use Flows instead
api test: [15:34:23.942] WARN: Webhooks are deprecated and the WebhooksService will be removed in an upcoming release. Creating/Updating Webhooks is disabled, use Flows instead
api test: [15:34:23.952] WARN: Webhooks are deprecated and the WebhooksService will be removed in an upcoming release. Creating/Updating Webhooks is disabled, use Flows instead
api test:  ✓ src/services/webhooks.test.ts (7 tests) 28ms
api test:  ✓ src/utils/fetch-user-count/fetch-access-roles.test.ts (8 tests) 6ms
api test:  ✓ src/database/get-ast-from-query/utils/get-relation.test.ts (4 tests) 18ms
api test:  ✓ src/permissions/modules/validate-access/validate-access.test.ts (5 tests) 5ms
api test:  ✓ src/utils/permissions-cachable.test.ts (4 tests) 3ms
api test:  ✓ src/database/run-ast/lib/apply-query/pagination.test.ts (8 tests) 9ms
api test:  ✓ src/utils/get-versioned-hash.test.ts (3 tests) 4ms
api test:  ✓ src/request/agent-with-ip-validation.test.ts (7 tests) 11ms
api test:  ✓ src/permissions/utils/merge-permissions.test.ts (3 tests) 5ms
api test:  ✓ src/logger/logs-stream.test.ts (5 tests) 42ms
api test:  ✓ src/utils/jwt.test.ts (10 tests) 15ms
api test:  ✓ src/services/websocket.test.ts (4 tests) 6ms
api test:  ✓ src/database/run-ast/utils/get-column.test.ts (5 tests) 10ms
api test:  ✓ src/operations/request/index.test.ts (5 tests) 7ms
api test:  ✓ src/operations/item-create/index.test.ts (10 tests) 8ms
api test:  ✓ src/utils/validate-query.test.ts (23 tests) 18ms
api test:  ✓ src/database/run-ast/lib/apply-query/filter/operator.test.ts (10 tests) 15ms
api test: stderr | src/websocket/utils/wait-for-message.test.ts > Wait for messages > should fail, 10ms delay, 5ms timeout
api test: Promise returned by `expect(actual).rejects.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/websocket/utils/wait-for-message.test.ts:44:59
api test: stderr | src/websocket/utils/wait-for-message.test.ts > Wait for messages > should fail parsing
api test: Promise returned by `expect(actual).rejects.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/websocket/utils/wait-for-message.test.ts:56:59
api test: stderr | src/websocket/utils/wait-for-message.test.ts > Wait for specific types messages > should fail, no matching type
api test: Promise returned by `expect(actual).rejects.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/websocket/utils/wait-for-message.test.ts:82:58
api test: stderr | src/websocket/utils/wait-for-message.test.ts > Wait for specific types messages > should fail parsing
api test: Promise returned by `expect(actual).rejects.toBe(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/websocket/utils/wait-for-message.test.ts:92:58
api test:  ✓ src/websocket/utils/wait-for-message.test.ts (6 tests) 58ms
api test:  ✓ src/utils/get-config-from-env.test.ts (6 tests) 7ms
api test:  ✓ src/permissions/modules/process-ast/lib/field-map-from-ast.test.ts (1 test) 4ms
api test: stderr | src/utils/get-accountability-for-role.test.ts > getAccountabilityForRole > invalid role throws error
api test: Promise returned by `expect(actual).rejects.toThrowErrorMatchingInlineSnapshot(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/utils/get-accountability-for-role.test.ts:86:3
api test:  ✓ src/utils/get-accountability-for-role.test.ts (4 tests) 12ms
api test:  ✓ src/services/items.test.ts (5 tests) 37ms
api test:  ✓ src/permissions/modules/fetch-allowed-fields/fetch-allowed-fields.test.ts (2 tests) 3ms
api test:  ✓ src/utils/should-clear-cache.test.ts (8 tests) 3ms
api test:  ✓ src/storage/register-drivers.test.ts (5 tests) 6ms
api test:  ✓ src/permissions/modules/fetch-inconsistent-field-map/fetch-inconsistent-field-map.test.ts (2 tests) 4ms
api test:  ✓ src/storage/register-locations.test.ts (2 tests) 7ms
api test:  ✓ src/permissions/modules/fetch-allowed-field-map/fetch-allowed-field-map.test.ts (2 tests) 3ms
api test:  ✓ src/websocket/utils/message.test.ts (7 tests) 26ms
api test:  ✓ src/permissions/modules/process-ast/utils/extract-paths-from-query.test.ts (9 tests) 5ms
api test:  ✓ src/permissions/modules/fetch-allowed-collections/fetch-allowed-collections.test.ts (2 tests) 5ms
api test: stderr | src/telemetry/lib/send-report.test.ts > Throws error if post was not successful
api test: Promise returned by `expect(actual).rejects.toThrowErrorMatchingInlineSnapshot(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/telemetry/lib/send-report.test.ts:81:31
api test:  ✓ src/telemetry/lib/send-report.test.ts (3 tests) 11ms
api test:  ✓ src/permissions/utils/merge-fields.test.ts (26 tests) 6ms
api test:  ✓ src/permissions/modules/process-ast/utils/dedupe-access.test.ts (3 tests) 5ms
api test:  ✓ src/telemetry/lib/track.test.ts (4 tests) 5ms
api test:  ✓ src/permissions/lib/fetch-roles-tree.test.ts (4 tests) 11ms
api test:  ✓ src/schedules/telemetry.test.ts (5 tests) 6ms
api test:  ✓ src/telemetry/utils/get-field-count.test.ts (3 tests) 7ms
api test:  ✓ src/operations/notification/index.test.ts (8 tests) 8ms
api test:  ✓ src/utils/ip-in-networks.test.ts (14 tests) 7ms
api test:  ✓ src/telemetry/utils/get-extension-count.test.ts (1 test) 3ms
api test:  ✓ src/utils/get-address.test.ts (4 tests) 9ms
api test:  ✓ src/utils/validate-snapshot.test.ts (6 tests) 6ms
api test:  ✓ src/permissions/modules/fetch-global-access/fetch-global-access.test.ts (3 tests) 3ms
api test:  ✓ src/middleware/extract-token.test.ts (5 tests) 10ms
api test:  ✓ src/operations/condition/index.test.ts (4 tests) 8ms
api test:  ✓ src/utils/get-relation-type.test.ts (5 tests) 3ms
api test:  ✓ src/permissions/modules/validate-access/lib/validate-collection-access.test.ts (2 tests) 4ms
api test:  ✓ src/storage/index.test.ts (6 tests) 5ms
api test:  ✓ src/telemetry/utils/get-user-item-count.test.ts (3 tests) 4ms
api test:  ✓ src/services/fields/build-collection-and-field-relations.test.ts (4 tests) 16ms
api test:  ✓ src/database/helpers/schema/utils/prep-query-params.test.ts (4 tests) 3ms
api test:  ✓ src/database/run-ast/lib/apply-query/filter/get-filter-type.test.ts (4 tests) 4ms
api test: [15:34:53.697] ERROR: An error message
api test:     err: {
api test:       "type": "GraphQLError",
api test:       "message": "An error message",
api test:       "stack":
api test:           GraphQLError: An error message
api test:               at /workspace/directus/api/src/services/graphql/utils/process-error.test.ts:7:22
api test:               at file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:514:43
api test:               at runWithSuite (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:29:9)
api test:               at Object.collect (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:514:13)
api test:               at Object.collect (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:518:57)
api test:               at processTicksAndRejections (node:internal/process/task_queues:105:5)
api test:               at collectTests (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:852:28)
api test:               at startTests (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1268:17)
api test:               at file:///workspace/directus/node_modules/.pnpm/vitest@2.1.9_@types+node@22.13.8_happy-dom@17.1.8_jsdom@20.0.3_sass-embedded@1.85.1_sass@1.83.4_terser@5.37.0/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11
api test:               at withEnv (file:///workspace/directus/node_modules/.pnpm/vitest@2.1.9_@types+node@22.13.8_happy-dom@17.1.8_jsdom@20.0.3_sass-embedded@1.85.1_sass@1.83.4_terser@5.37.0/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)
api test:       "path": [
api test:         "test_collection"
api test:       ],
api test:       "extensions": {}
api test:     }
api test: [15:34:53.705] ERROR: An error message
api test:     err: {
api test:       "type": "GraphQLError",
api test:       "message": "An error message",
api test:       "stack":
api test:           GraphQLError: An error message
api test:               at /workspace/directus/api/src/services/graphql/utils/process-error.test.ts:7:22
api test:               at file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:514:43
api test:               at runWithSuite (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:29:9)
api test:               at Object.collect (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:514:13)
api test:               at Object.collect (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:518:57)
api test:               at processTicksAndRejections (node:internal/process/task_queues:105:5)
api test:               at collectTests (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:852:28)
api test:               at startTests (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1268:17)
api test:               at file:///workspace/directus/node_modules/.pnpm/vitest@2.1.9_@types+node@22.13.8_happy-dom@17.1.8_jsdom@20.0.3_sass-embedded@1.85.1_sass@1.83.4_terser@5.37.0/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11
api test:               at withEnv (file:///workspace/directus/node_modules/.pnpm/vitest@2.1.9_@types+node@22.13.8_happy-dom@17.1.8_jsdom@20.0.3_sass-embedded@1.85.1_sass@1.83.4_terser@5.37.0/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)
api test:       "path": [
api test:         "test_collection"
api test:       ],
api test:       "extensions": {}
api test:     }
api test: [15:34:53.705] ERROR: An error message
api test:     err: {
api test:       "type": "GraphQLError",
api test:       "message": "An error message",
api test:       "stack":
api test:           GraphQLError: An error message
api test:               at /workspace/directus/api/src/services/graphql/utils/process-error.test.ts:7:22
api test:               at file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:514:43
api test:               at runWithSuite (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:29:9)
api test:               at Object.collect (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:514:13)
api test:               at Object.collect (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:518:57)
api test:               at processTicksAndRejections (node:internal/process/task_queues:105:5)
api test:               at collectTests (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:852:28)
api test:               at startTests (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1268:17)
api test:               at file:///workspace/directus/node_modules/.pnpm/vitest@2.1.9_@types+node@22.13.8_happy-dom@17.1.8_jsdom@20.0.3_sass-embedded@1.85.1_sass@1.83.4_terser@5.37.0/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11
api test:               at withEnv (file:///workspace/directus/node_modules/.pnpm/vitest@2.1.9_@types+node@22.13.8_happy-dom@17.1.8_jsdom@20.0.3_sass-embedded@1.85.1_sass@1.83.4_terser@5.37.0/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)
api test:       "path": [
api test:         "test_collection"
api test:       ],
api test:       "extensions": {}
api test:     }
api test: [15:34:53.706] ERROR: An error message
api test:     err: {
api test:       "type": "GraphQLError",
api test:       "message": "An error message",
api test:       "stack":
api test:           DirectusError: Something went wrong...
api test:               at /workspace/directus/api/src/services/graphql/utils/process-error.test.ts:40:19
api test:               at file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
api test:               at file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
api test:               at runWithTimeout (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
api test:               at runTest (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
api test:               at processTicksAndRejections (node:internal/process/task_queues:105:5)
api test:               at runSuite (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
api test:               at runSuite (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
api test:               at runFiles (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
api test:               at startTests (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
api test:       "path": [
api test:         "test_collection"
api test:       ],
api test:       "extensions": {}
api test:     }
api test:  ✓ src/services/graphql/utils/process-error.test.ts (4 tests) 23ms
api test:  ✓ src/database/get-ast-from-query/utils/get-related-collection.test.ts (5 tests) 5ms
api test:  ✓ src/permissions/modules/fetch-accountability-policy-globals/fetch-accountability-policy-globals.test.ts (2 tests) 4ms
api test:  ✓ src/schedules/metrics.test.ts (4 tests) 22ms
api test:  ✓ src/schedules/retention.test.ts (4 tests) 26ms
api test:  ✓ src/permissions/modules/process-ast/utils/validate-path/validate-path-existence.test.ts (4 tests) 4ms
api test:  ✓ src/lock/lib/use-lock.test.ts (4 tests) 5ms
api test:  ✓ src/bus/lib/use-bus.test.ts (4 tests) 4ms
api test:  ✓ src/utils/get-auth-providers.test.ts (4 tests) 4ms
api test:  ✓ src/permissions/lib/with-app-minimal-permissions.test.ts (2 tests) 4ms
api test:  ✓ src/redis/lib/create-redis.test.ts (2 tests) 16ms
api test:  ✓ src/database/run-ast/lib/apply-query/get-operation.test.ts (10 tests) 4ms
api test:  ✓ src/permissions/utils/extract-required-dynamic-variable-context.test.ts (2 tests) 3ms
api test:  ✓ src/utils/calculate-field-depth.test.ts (5 tests) 3ms
api test:  ✓ src/utils/is-valid-uuid.test.ts (6 tests) 3ms
api test:  ✓ src/permissions/modules/process-ast/utils/validate-path/validate-path-permissions.test.ts (4 tests) 3ms
api test:  ✓ src/utils/filter-items.test.ts (4 tests) 6ms
api test:  ✓ src/services/fields/get-collection-relation-list.test.ts (5 tests) 3ms
api test:  ✓ src/permissions/modules/process-ast/utils/find-related-collection.test.ts (3 tests) 2ms
api test: stderr | src/telemetry/utils/check-user-limits.test.ts > Errors if limits are exceeded
api test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/telemetry/utils/check-user-limits.test.ts:20:54
api test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/telemetry/utils/check-user-limits.test.ts:18:54
api test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/telemetry/utils/check-user-limits.test.ts:16:54
api test: Promise returned by `expect(actual).rejects.toThrowError(expected)` was not awaited. Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. Please remember to await the assertion.
api test:     at /workspace/directus/api/src/telemetry/utils/check-user-limits.test.ts:14:54
api test:  ✓ src/telemetry/utils/check-user-limits.test.ts (2 tests) 41ms
api test:  ✓ src/operations/trigger/index.test.ts (5 tests) 5ms
api test:  ✓ src/telemetry/utils/get-filesize-sum.test.ts (3 tests) 6ms
api test:  ✓ src/request/index.test.ts (2 tests) 5ms
api test:  ✓ src/operations/sleep/index.test.ts (2 tests) 4ms
api test:  ✓ src/permissions/modules/fetch-global-access/lib/fetch-global-access-for-roles.test.ts (1 test) 4ms
api test:  ✓ src/utils/is-url-allowed.test.ts (5 tests) 15ms
api test:  ✓ src/metrics/lib/use-metrics.test.ts (3 tests) 3ms
api test:  ✓ src/utils/get-date-formatted.test.ts (6 tests) 5ms
api test:  ✓ src/telemetry/utils/get-project-id.test.ts (3 tests) 6ms
api test:  ✓ src/redis/utils/redis-config-available.test.ts (5 tests) 3ms
api test:  ✓ src/permissions/modules/fetch-global-access/lib/fetch-global-access-for-user.test.ts (1 test) 4ms
api test:  ✓ src/telemetry/utils/should-check-user-limits.test.ts (4 tests) 3ms
api test:  ✓ src/permissions/utils/filter-policies-by-ip.test.ts (2 tests) 3ms
api test:  ✓ src/utils/validate-env.test.ts (2 tests) 3ms
api test:  ✓ src/permissions/modules/process-ast/utils/get-info-for-path.test.ts (4 tests) 3ms
api test:  ✓ src/redis/lib/use-redis.test.ts (2 tests) 24ms
api test:  ✓ src/utils/apply-diff.test.ts (6 tests) 3ms
api test:  ✓ src/utils/stall.test.ts (2 tests) 23ms
api test:  ✓ src/permissions/modules/process-payload/lib/is-field-nullable.test.ts (4 tests) 2ms
api test:  ✓ src/database/run-ast/lib/apply-query/join-filter-with-cases.test.ts (4 tests) 3ms
api test:  ✓ src/services/files/lib/get-sharp-instance.test.ts (1 test) 6ms
api test:  ✓ src/utils/user-name.test.ts (5 tests) 3ms
api test:  ✓ src/utils/is-directus-jwt.test.ts (4 tests) 6ms
api test:  ✓ src/utils/get-graphql-query-and-variables.test.ts (2 tests) 3ms
api test:  ✓ src/websocket/utils/get-expires-at-for-token.test.ts (3 tests) 24ms
api test:  ✓ src/schedules/tus.test.ts (2 tests) 10ms
api test:  ✓ src/utils/get-collection-from-alias.test.ts (2 tests) 2ms
api test:  ✓ src/utils/get-allowed-log-levels.test.ts (4 tests) 4ms
api test:  ✓ src/utils/get-milliseconds.test.ts (16 tests) 5ms
api test:  ✓ src/utils/parse-filter-key.test.ts (5 tests) 3ms
api test:  ✓ src/operations/log/index.test.ts (2 tests) 4ms
api test:  ✓ src/database/get-ast-from-query/utils/get-deep-query.test.ts (4 tests) 4ms
api test:  ✓ src/permissions/modules/process-ast/utils/context-has-dynamic-variables.test.ts (2 tests) 2ms
api test:  ✓ src/utils/async-handler.test.ts (1 test) 3ms
api test: [15:35:18.320] ERROR: test
api test:     err: {
api test:       "type": "Error",
api test:       "message": "test",
api test:       "stack":
api test:           Error: test
api test:               at Object.<anonymous> (/workspace/directus/api/src/services/files/utils/get-metadata.test.ts:19:9)
api test:               at Object.mockCall (file:///workspace/directus/node_modules/.pnpm/@vitest+spy@2.1.9/node_modules/@vitest/spy/dist/index.js:61:17)
api test:               at Object.spy [as metadata] (file:///workspace/directus/node_modules/.pnpm/tinyspy@3.0.2/node_modules/tinyspy/dist/index.js:45:80)
api test:               at /workspace/directus/api/src/services/files/utils/get-metadata.ts:26:16
api test:               at new Promise (<anonymous>)
api test:               at Module.getMetadata (/workspace/directus/api/src/services/files/utils/get-metadata.ts:23:9)
api test:               at /workspace/directus/api/src/services/files/utils/get-metadata.test.ts:26:23
api test:               at file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
api test:               at file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
api test:               at runWithTimeout (file:///workspace/directus/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
api test:     }
api test:  ✓ src/services/files/utils/get-metadata.test.ts (1 test) 29ms
api test:  ✓ src/storage/get-storage-driver.test.ts (2 tests) 17ms
api test:  ✓ src/database/run-ast/lib/apply-query/get-filter-path.test.ts (4 tests) 3ms
api test:  ✓ src/permissions/modules/process-ast/utils/has-item-permissions.test.ts (3 tests) 2ms
api test:  ✓ src/permissions/modules/process-ast/utils/collections-in-field-map.test.ts (1 test) 2ms
api test:  ✓ src/database/run-ast/utils/apply-function-to-column-name.test.ts (4 tests) 3ms
api test:  ✓ src/database/run-ast/lib/apply-query/filter/validate-operator.test.ts (3 tests) 3ms
api test:  ✓ src/logger/redact-query.test.ts (2 tests) 2ms
api test:  ✓ src/utils/md.test.ts (3 tests) 17ms
api test:  ✓ src/telemetry/utils/get-random-wait-time.test.ts (1 test) 2ms
api test:  ✓ src/utils/get-string-byte-size.test.ts (1 test) 2ms
api test:  ✓ src/permissions/modules/process-ast/utils/stringify-query-path.test.ts (1 test) 2ms
api test:  ✓ src/permissions/modules/process-ast/utils/format-a2o-key.test.ts (1 test) 2ms
api test:  ✓ src/operations/transform/index.test.ts (2 tests) 2ms
api test:  ↓ src/utils/validate-user-count-integrity.test.ts (1 test | 1 skipped)
api test: ⎯⎯⎯⎯⎯⎯⎯ Failed Tests 2 ⎯⎯⎯⎯⎯⎯⎯
api test:  FAIL  src/middleware/error-handler.test.ts > Error handler behaves correctly in express app > Handler is called in case of express route error
api test: AssertionError: expected 'upstream connect error or disconnect/…' to match object { errors: [ { …(2) } ] }
api test: - Expected: 
api test: Object {
api test:   "errors": Array [
api test:     Object {
api test:       "extensions": Object {
api test:         "code": "NOT_FOUND",
api test:       },
api test:       "message": "Rabbit not found",
api test:     },
api test:   ],
api test: }
api test: + Received: 
api test: "upstream connect error or disconnect/reset before headers. reset reason: remote connection failure, transport failure reason: delayed connect error: Connection refused"
api test:  ❯ src/middleware/error-handler.test.ts:82:54
api test:      80|    await axios(`http://0:${port}`);
api test:      81|   } catch (axiosError) {
api test:      82|    expect((axiosError as AxiosError).response?.data).toMatchObject({
api test:        |                                                      ^
api test:      83|     errors: [
api test:      84|      {
api test: ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/2]⎯
api test:  FAIL  src/middleware/error-handler.test.ts > Error handler behaves correctly in express app > Handler catches the case where headers have already been sent
api test: AxiosError: Request failed with status code 503
api test:  ❯ settle ../node_modules/.pnpm/axios@1.8.4/node_modules/axios/lib/core/settle.js:19:12
api test:  ❯ IncomingMessage.handleStreamEnd ../node_modules/.pnpm/axios@1.8.4/node_modules/axios/lib/adapters/http.js:599:11
api test:  ❯ Axios.request ../node_modules/.pnpm/axios@1.8.4/node_modules/axios/lib/core/Axios.js:45:41
api test:  ❯ src/middleware/error-handler.test.ts:108:20
api test:     106|   });
api test:     107| 
api test:     108|   const { data } = await axios(`http://0:${port}`);
api test:        |                    ^
api test:     109| 
api test:     110|   expect(data).toMatchObject(response);
api test: ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/2]⎯
api test:  Test Files  1 failed | 191 passed | 2 skipped (194)
api test:       Tests  2 failed | 1269 passed | 3 todo (1274)
api test:    Start at  15:33:29
api test:    Duration  112.15s (transform 5.77s, setup 0ms, collect 283.51s, tests 2.82s, environment 37ms, prepare 15.73s)
api test: Failed
/workspace/directus/api:
 ERR_PNPM_RECURSIVE_RUN_FIRST_FAIL  @directus/api@28.0.3 test: `vitest run`
Exit status 1
